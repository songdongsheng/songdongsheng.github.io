<!DOCTYPE html>
<html lang=zh>
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="keywords" content="">
  
    <link rel="icon" href="">
  
    
  <title>Wi-Fi MAC addres Randomization | 上下未形，何由考之？冥昭瞢暗，誰能極之？馮翼惟象，何以識之？</title>
  <meta name="description" content="">
  
<link rel="stylesheet" href="/style.css">

  
<link rel="stylesheet" href="/lib/jquery.fancybox.min.css">

  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <header>
  <div class="header-container">
    <a class='logo' href="/">
      <span>上下未形，何由考之？冥昭瞢暗，誰能極之？馮翼惟象，何以識之？</span>
    </a>
    <ul class="right-header">
      
        <li class="nav-item">
          
            <a href="/" class="item-link">首页</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/about" class="item-link">关于</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/archives" class="item-link">归档</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/tags" class="item-link">标签</a>
          
        </li>
      
    </ul>
  </div>
</header>

  <main id='post'>
  <div class="content">
    <article>
      <section class="content markdown-body">
        <h1>
          Wi-Fi MAC addres Randomization
        </h1>
        <div class='post-meta'>
          <i class="fa fa-calendar"
            aria-hidden="true"></i> <time>
            2020/02/01</time>
          
          | <i class="fa fa-folder-open-o"
            aria-hidden="true"></i>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/Operating-system/">Operating system</a>/ <a class="article-category-link" href="/categories/Operating-system/Linux/">Linux</a>
  </div>



          
          
          |
          
          <i class="fa fa-tag"
            aria-hidden="true"></i>
          
          
  <a href="/tags/#Linux" class='tag'>Linux</a>


          
        </div>
        <h1 id="Wi-Fi-MAC-addres-Randomization"><a href="#Wi-Fi-MAC-addres-Randomization" class="headerlink" title="Wi-Fi MAC addres Randomization"></a>Wi-Fi MAC addres Randomization</h1><p>The NetworkManager 1.2.0 added MAC address randomization for Wi-Fi. The NetworkManager release 1.4.0 adds new features to change the current MAC address of your Ethernet or Wi-Fi card. This is also called MAC address “spoofing” or “cloning”.</p>
<p>NetworkManager supports two types MAC Address Randomization: randomization during scanning, and for network connections. Both modes can be configured by modifying <strong>&#x2F;etc&#x2F;NetworkManager&#x2F;NetworkManager.conf</strong>.</p>
<p>MAC randomization can be used for increased privacy by not disclosing your real MAC address to the network.</p>
<h2 id="Randomization-during-Wi-Fi-scanning"><a href="#Randomization-during-Wi-Fi-scanning" class="headerlink" title="Randomization during Wi-Fi scanning"></a>Randomization during Wi-Fi scanning</h2><p>During Wi-Fi scanning, NetworkManager resets the MAC address frequently to a randomly generated address. This default behavior can be disabled with a global configuration option in NetworkManager.conf</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[main]</span><br><span class="line">plugins=ifupdown,keyfile</span><br><span class="line"></span><br><span class="line">[ifupdown]</span><br><span class="line">managed=false</span><br><span class="line"></span><br><span class="line">[device]</span><br><span class="line">wifi.scan-rand-mac-address=no</span><br></pre></td></tr></table></figure>

<h2 id="MAC-randomization-for-network-connections"><a href="#MAC-randomization-for-network-connections" class="headerlink" title="MAC randomization for network connections"></a>MAC randomization for network connections</h2><p>MAC randomization for network connections can be set to different modes for both wireless and ethernet interfaces. In terms of MAC randomization the most important modes are stable and random. stable generates a random MAC address when you connect to a new network and associates the two permanently. This means that you will use the same MAC address every time you connect to that network. In contrast, random will generate a new MAC address every time you connect to a network, new or previously known. You can configure the MAC randomization by adding the desired configuration under &#x2F;etc&#x2F;NetworkManager&#x2F;conf.d:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[device-mac-randomization]</span><br><span class="line"># &quot;yes&quot; is already the default for scanning</span><br><span class="line">wifi.scan-rand-mac-address=yes</span><br><span class="line"></span><br><span class="line">[connection-mac-randomization]</span><br><span class="line"># Randomize MAC for every ethernet connection</span><br><span class="line">ethernet.cloned-mac-address=random</span><br><span class="line"># Generate a random MAC for each WiFi and associate the two permanently.</span><br><span class="line">wifi.cloned-mac-address=stable</span><br></pre></td></tr></table></figure>

<h2 id="Troubleshooting"><a href="#Troubleshooting" class="headerlink" title="Troubleshooting"></a>Troubleshooting</h2><p>With Wi-Fi MAC addres Randomization, some Wi-Fi device can’t establish connection with any AP.</p>
<p>Disabling MAC address randomization may be needed to get (stable) link connection and&#x2F;or networks that restrict devices based on their MAC Address or have a limit network capacity.</p>

      </section>
    </article>
    
    
  </div>
  <aside>
    
    <div class="toc-container">
      <h1>
        catalog
      </h1>
      <div class="content">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Wi-Fi-MAC-addres-Randomization"><span class="toc-number">1.</span> <span class="toc-text">Wi-Fi MAC addres Randomization</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Randomization-during-Wi-Fi-scanning"><span class="toc-number">1.1.</span> <span class="toc-text">Randomization during Wi-Fi scanning</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MAC-randomization-for-network-connections"><span class="toc-number">1.2.</span> <span class="toc-text">MAC randomization for network connections</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Troubleshooting"><span class="toc-number">1.3.</span> <span class="toc-text">Troubleshooting</span></a></li></ol></li></ol>
      </div>
    </div>
    
  </aside>
</main>



  <footer>
  <div class="copyright">
    <div>
      &copy;
      2024 | Powered by <a href="https://hexo.io"
        target="_blank">Hexo</a>&nbsp
    </div>
    <div>
      Theme by <a href="https://github.com/lewis-geek/hexo-theme-Aath"
        target="_blank">Aath</a>
    </div>
  </div>
</footer>


<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>

<script src="/lib/ScrollMagic.min.js"></script>


<script src="/lib/lodash.min.js"></script>

<script>
  document.body.addEventListener('touchstart', function () { });

  // 文章图片预览
  $("article img").each(function () {
    var strA = "<a data-fancybox='gallery' href='" + this.src + "'></a>";
    $(this).wrapAll(strA);
  });

  // 目录联动
  let tocLinkList = $('.toc-link')

  let controller = new ScrollMagic.Controller({
    globalSceneOptions: {
      triggerHook: 0.01
    }
  })

  tocLinkList.each(function (index, elem) {
    let href = $(this).attr("href");
    let nextHref = tocLinkList.eq(index + 1).attr("href");
    let height = href && nextHref ? $(nextHref).offset().top - $(href).offset().top : 0

    new ScrollMagic.Scene({ triggerElement: href })
      .duration(height)
      .setClassToggle(".toc [href='" + href + "']", 'active')
      .addTo(controller)
  })

  window.addEventListener('load', function () {
    // 目录联动 图片加载完成后从新计算
    tocLinkList.each(function (index, elem) {
      let href = $(this).attr("href");
      let nextHref = tocLinkList.eq(index + 1).attr("href");
      let height = href && nextHref ? $(nextHref).offset().top - $(href).offset().top : 0

      new ScrollMagic.Scene({ triggerElement: href })
        .duration(height)
        .setClassToggle(".toc [href='" + href + "']", 'active')
        .addTo(controller)
    })
  })
</script>

<script src="/lib/jquery.fancybox.min.js"></script>



</body>
</html>
