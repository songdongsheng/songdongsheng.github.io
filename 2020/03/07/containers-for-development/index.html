<!DOCTYPE html>
<html lang=zh>
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="keywords" content="">
  
    <link rel="icon" href="">
  
    
  <title>Containers for development | 上下未形，何由考之？冥昭瞢暗，誰能極之？馮翼惟象，何以識之？</title>
  <meta name="description" content="">
  
<link rel="stylesheet" href="/style.css">

  
<link rel="stylesheet" href="/lib/jquery.fancybox.min.css">

  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <header>
  <div class="header-container">
    <a class='logo' href="/">
      <span>上下未形，何由考之？冥昭瞢暗，誰能極之？馮翼惟象，何以識之？</span>
    </a>
    <ul class="right-header">
      
        <li class="nav-item">
          
            <a href="/" class="item-link">首页</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/about" class="item-link">关于</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/archives" class="item-link">归档</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/tags" class="item-link">标签</a>
          
        </li>
      
    </ul>
  </div>
</header>

  <main id='post'>
  <div class="content">
    <article>
      <section class="content markdown-body">
        <h1>
          Containers for development
        </h1>
        <div class='post-meta'>
          <i class="fa fa-calendar"
            aria-hidden="true"></i> <time>
            2020/03/07</time>
          
          | <i class="fa fa-folder-open-o"
            aria-hidden="true"></i>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/Cloud/">Cloud</a>/ <a class="article-category-link" href="/categories/Cloud/Container/">Container</a>
  </div>



          
          
          |
          
          <i class="fa fa-tags"
            aria-hidden="true"></i>
          
          
  <a href="/tags/#Cloud" class='tag'>Cloud</a>

  <a href="/tags/#Container" class='tag'>Container</a>

  <a href="/tags/#Linux" class='tag'>Linux</a>


          
        </div>
        <h1 id="Containers-for-development"><a href="#Containers-for-development" class="headerlink" title="Containers for development"></a>Containers for development</h1><h2 id="Base-images"><a href="#Base-images" class="headerlink" title="Base images"></a>Base images</h2><ul>
<li><a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/builder/">https://docs.docker.com/engine/reference/builder/</a></li>
<li><a target="_blank" rel="noopener" href="https://hub.docker.com/_/alpine">https://hub.docker.com/_/alpine</a></li>
<li><a target="_blank" rel="noopener" href="https://hub.docker.com/_/debian">https://hub.docker.com/_/debian</a></li>
<li><a target="_blank" rel="noopener" href="https://hub.docker.com/_/ubuntu">https://hub.docker.com/_/ubuntu</a></li>
<li><a target="_blank" rel="noopener" href="https://hub.docker.com/_/centos">https://hub.docker.com/_/centos</a></li>
<li><a target="_blank" rel="noopener" href="https://hub.docker.com/_/microsoft-windows-nanoserver">https://hub.docker.com/_/microsoft-windows-nanoserver</a></li>
<li><a target="_blank" rel="noopener" href="https://hub.docker.com/_/microsoft-windows-servercore">https://hub.docker.com/_/microsoft-windows-servercore</a></li>
<li><a target="_blank" rel="noopener" href="https://mcr.microsoft.com/v2/windows/servercore/tags/list">https://mcr.microsoft.com/v2/windows/servercore/tags/list</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/virtualization/windowscontainers/deploy-containers/base-image-lifecycle">https://docs.microsoft.com/en-us/virtualization/windowscontainers/deploy-containers/base-image-lifecycle</a></li>
<li><a target="_blank" rel="noopener" href="https://www.azul.com/downloads/zulu-community/">https://www.azul.com/downloads/zulu-community/</a></li>
<li><a target="_blank" rel="noopener" href="https://cdn.azul.com/zulu/bin/zulu8.44.0.11-ca-jre8.0.242-linux_x64.tar.gz">https://cdn.azul.com/zulu/bin/zulu8.44.0.11-ca-jre8.0.242-linux_x64.tar.gz</a></li>
<li><a target="_blank" rel="noopener" href="https://cdn.azul.com/zulu/bin/zulu11.37.17-ca-jre11.0.6-linux_x64.tar.gz">https://cdn.azul.com/zulu/bin/zulu11.37.17-ca-jre11.0.6-linux_x64.tar.gz</a></li>
<li><a target="_blank" rel="noopener" href="https://cdn.azul.com/zulu/bin/zulu8.44.0.11-ca-jdk8.0.242-linux_x64.tar.gz">https://cdn.azul.com/zulu/bin/zulu8.44.0.11-ca-jdk8.0.242-linux_x64.tar.gz</a></li>
<li><a target="_blank" rel="noopener" href="https://cdn.azul.com/zulu/bin/zulu11.37.17-ca-jdk11.0.6-linux_x64.tar.gz">https://cdn.azul.com/zulu/bin/zulu11.37.17-ca-jdk11.0.6-linux_x64.tar.gz</a></li>
<li><a target="_blank" rel="noopener" href="https://downloads.apache.org/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz">https://downloads.apache.org/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz</a></li>
<li><a target="_blank" rel="noopener" href="http://releases.ubuntu.com/xenial/ubuntu-16.04.6-server-amd64.iso">http://releases.ubuntu.com/xenial/ubuntu-16.04.6-server-amd64.iso</a></li>
<li><a target="_blank" rel="noopener" href="http://releases.ubuntu.com/bionic/ubuntu-18.04.4-live-server-amd64.iso">http://releases.ubuntu.com/bionic/ubuntu-18.04.4-live-server-amd64.iso</a></li>
<li><a target="_blank" rel="noopener" href="http://mirror.centos.org/centos-7/7/isos/x86_64/CentOS-7-x86_64-DVD-1908.iso">http://mirror.centos.org/centos-7/7/isos/x86_64/CentOS-7-x86_64-DVD-1908.iso</a></li>
<li><a target="_blank" rel="noopener" href="http://mirror.centos.org/centos-8/8/isos/x86_64/CentOS-8.1.1911-x86_64-dvd1.iso">http://mirror.centos.org/centos-8/8/isos/x86_64/CentOS-8.1.1911-x86_64-dvd1.iso</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">docker pull alpine:3</span><br><span class="line">docker pull debian:9</span><br><span class="line">docker pull debian:10</span><br><span class="line">docker pull ubuntu:18.04</span><br><span class="line">docker pull ubuntu:20.04</span><br><span class="line">docker pull centos:7</span><br><span class="line">docker pull centos:8</span><br><span class="line">docker pull registry.suse.com/suse/sles12sp5</span><br><span class="line">docker pull registry.suse.com/suse/sle15</span><br><span class="line">docker pull registry.access.redhat.com/ubi7/ubi</span><br><span class="line">docker pull registry.access.redhat.com/ubi8/ubi</span><br><span class="line">docker pull mcr.microsoft.com/windows/nanoserver:1809</span><br><span class="line">docker pull mcr.microsoft.com/windows/nanoserver:1909</span><br><span class="line">docker pull mcr.microsoft.com/windows/servercore:ltsc2019</span><br><span class="line"></span><br><span class="line">docker image inspect alpine:3</span><br><span class="line">    &quot;Created&quot;: &quot;2020-01-18T01:19:37.187497623Z&quot;,</span><br><span class="line">    &quot;Architecture&quot;: &quot;amd64&quot;,</span><br><span class="line">    &quot;Os&quot;: &quot;linux&quot;,</span><br><span class="line">    &quot;Size&quot;: 5591300,</span><br></pre></td></tr></table></figure>

<h2 id="SLE-15-based-images"><a href="#SLE-15-based-images" class="headerlink" title="SLE 15 based images"></a>SLE 15 based images</h2><h3 id="Java-8-8u242-jdk"><a href="#Java-8-8u242-jdk" class="headerlink" title="Java 8 - 8u242-jdk"></a>Java 8 - 8u242-jdk</h3><h4 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h4><figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> registry.suse.com/suse/sle15</span><br><span class="line"></span><br><span class="line"><span class="keyword">ARG</span> JDK_8_URL=<span class="string">&quot;https://cdn.azul.com/zulu/bin/zulu8.44.0.11-ca-jdk8.0.242-linux_x64.tar.gz&quot;</span></span><br><span class="line"><span class="keyword">ARG</span> MAVEN_URL=<span class="string">&quot;https://downloads.apache.org/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /root</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ENV</span> \</span><br><span class="line">    LC_ALL=<span class="string">&quot;en_US.UTF-8&quot;</span> \</span><br><span class="line">    TZ=<span class="string">&quot;Asia/Shanghai&quot;</span> \</span><br><span class="line">    JAVA_HOME=<span class="string">&quot;/opt/jdk-8&quot;</span> \</span><br><span class="line">    PATH=<span class="string">&quot;/opt/maven/bin:/opt/jdk-8/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">set</span> -x \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper remove --no-confirm container-suseconnect || <span class="literal">true</span> \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper addrepo -C -G http://example.com/SLE15/SLE-15-SP1-Module-Basesystem/                    SLE-15-SP1-Module-Basesystem \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper addrepo -C -G http://example.com/SLE15/SLE-15-SP1-Module-Basesystem-Updates/            SLE-15-SP1-Module-Basesystem-Updates \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper addrepo -C -G http://example.com/SLE15/SLE-15-SP1-Module-Development-Tools/             SLE-15-SP1-Module-Development-Tools \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper addrepo -C -G http://example.com/SLE15/SLE-15-SP1-Module-Development-Tools-Updates/     SLE-15-SP1-Module-Development-Tools-Updates \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper update --no-recommends --no-confirm \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper install --auto-agree-with-licenses --no-confirm --no-recommends timezone curl ca-certificates-mozilla gzip tar <span class="built_in">which</span> \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper removerepo -a \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; <span class="built_in">mkdir</span> -p /opt/jdk-8 /opt/maven \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; curl -sSL <span class="variable">$&#123;JDK_8_URL&#125;</span> | tar -C /opt/jdk-8 --strip-components=1 -xz \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; curl -sSL <span class="variable">$&#123;MAVEN_URL&#125;</span> | tar -C /opt/maven --strip-components=1 -xz \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; <span class="built_in">rm</span> -fr /root/bin /opt/jdk-8/src.zip /opt/jdk-8/demo /opt/jdk-8/man /opt/jdk-8/sample \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; mvn -version</span></span><br></pre></td></tr></table></figure>

<h4 id="docker-build"><a href="#docker-build" class="headerlink" title="docker build"></a>docker build</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">IMG=songdongsheng/openjdk</span><br><span class="line">TAG=8u242-jdk</span><br><span class="line"></span><br><span class="line">docker build --compress --tag <span class="variable">$&#123;IMG&#125;</span>:<span class="variable">$&#123;TAG&#125;</span> -f Dockerfile.8u242-jdk .</span><br><span class="line"></span><br><span class="line"><span class="comment"># docker image inspect $&#123;IMG&#125;:$&#123;TAG&#125; | less</span></span><br><span class="line"></span><br><span class="line">docker images | grep <span class="variable">$&#123;IMG&#125;</span></span><br><span class="line"></span><br><span class="line">docker push <span class="variable">$&#123;IMG&#125;</span>:<span class="variable">$&#123;TAG&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="Java-8-8u242-jre"><a href="#Java-8-8u242-jre" class="headerlink" title="Java 8 - 8u242-jre"></a>Java 8 - 8u242-jre</h3><h4 id="Dockerfile-1"><a href="#Dockerfile-1" class="headerlink" title="Dockerfile"></a>Dockerfile</h4><figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> registry.suse.com/suse/sle15</span><br><span class="line"></span><br><span class="line"><span class="keyword">ARG</span> JRE_8_URL=<span class="string">&quot;https://cdn.azul.com/zulu/bin/zulu8.44.0.11-ca-jre8.0.242-linux_x64.tar.gz&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /root</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ENV</span> \</span><br><span class="line">    LC_ALL=<span class="string">&quot;en_US.UTF-8&quot;</span> \</span><br><span class="line">    TZ=<span class="string">&quot;Asia/Shanghai&quot;</span> \</span><br><span class="line">    JAVA_HOME=<span class="string">&quot;/opt/jdk-8&quot;</span> \</span><br><span class="line">    PATH=<span class="string">&quot;/opt/maven/bin:/opt/jdk-8/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">set</span> -x \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper remove --no-confirm container-suseconnect || <span class="literal">true</span> \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper addrepo -C -G http://example.com/SLE15/SLE-15-SP1-Module-Basesystem/                    SLE-15-SP1-Module-Basesystem \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper addrepo -C -G http://example.com/SLE15/SLE-15-SP1-Module-Basesystem-Updates/            SLE-15-SP1-Module-Basesystem-Updates \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper addrepo -C -G http://example.com/SLE15/SLE-15-SP1-Module-Development-Tools/             SLE-15-SP1-Module-Development-Tools \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper addrepo -C -G http://example.com/SLE15/SLE-15-SP1-Module-Development-Tools-Updates/     SLE-15-SP1-Module-Development-Tools-Updates \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper update --no-recommends --no-confirm \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper install --auto-agree-with-licenses --no-confirm --no-recommends timezone curl ca-certificates-mozilla gzip tar <span class="built_in">which</span> \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper removerepo -a \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; <span class="built_in">mkdir</span> -p /opt/jdk-8 /opt/maven \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; curl -sSL <span class="variable">$&#123;JRE_8_URL&#125;</span> | tar -C /opt/jdk-8 --strip-components=1 -xz \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; <span class="built_in">rm</span> -fr /root/bin /opt/jdk-8/src.zip /opt/jdk-8/demo /opt/jdk-8/man /opt/jdk-8/sample \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; java -version</span></span><br></pre></td></tr></table></figure>

<h4 id="docker-build-1"><a href="#docker-build-1" class="headerlink" title="docker build"></a>docker build</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">IMG=songdongsheng/openjdk</span><br><span class="line">TAG=8u242-jre</span><br><span class="line"></span><br><span class="line">docker build --compress --tag <span class="variable">$&#123;IMG&#125;</span>:<span class="variable">$&#123;TAG&#125;</span> -f Dockerfile.8u242-jre .</span><br><span class="line">docker tag <span class="variable">$&#123;IMG&#125;</span>:<span class="variable">$&#123;TAG&#125;</span> <span class="variable">$&#123;IMG&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># docker image inspect $&#123;IMG&#125;:$&#123;TAG&#125; | less</span></span><br><span class="line"></span><br><span class="line">docker images | grep <span class="variable">$&#123;IMG&#125;</span></span><br><span class="line"></span><br><span class="line">docker push <span class="variable">$&#123;IMG&#125;</span>:<span class="variable">$&#123;TAG&#125;</span></span><br></pre></td></tr></table></figure>


<h3 id="Java-11-11-0-6-jdk"><a href="#Java-11-11-0-6-jdk" class="headerlink" title="Java 11 - 11.0.6-jdk"></a>Java 11 - 11.0.6-jdk</h3><h4 id="Dockerfile-2"><a href="#Dockerfile-2" class="headerlink" title="Dockerfile"></a>Dockerfile</h4><figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> registry.suse.com/suse/sle15</span><br><span class="line"></span><br><span class="line"><span class="keyword">ARG</span> JDK_11_URL=<span class="string">&quot;https://cdn.azul.com/zulu/bin/zulu11.37.17-ca-jdk11.0.6-linux_x64.tar.gz&quot;</span></span><br><span class="line"><span class="keyword">ARG</span> MAVEN_URL=<span class="string">&quot;https://downloads.apache.org/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /root</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ENV</span> \</span><br><span class="line">    LC_ALL=<span class="string">&quot;en_US.UTF-8&quot;</span> \</span><br><span class="line">    TZ=<span class="string">&quot;Asia/Shanghai&quot;</span> \</span><br><span class="line">    JAVA_HOME=<span class="string">&quot;/opt/jdk-11&quot;</span> \</span><br><span class="line">    PATH=<span class="string">&quot;/opt/maven/bin:/opt/jdk-11/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">set</span> -x \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper remove --no-confirm container-suseconnect || <span class="literal">true</span> \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper addrepo -C -G http://example.com/SLE15/SLE-15-SP1-Module-Basesystem/                    SLE-15-SP1-Module-Basesystem \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper addrepo -C -G http://example.com/SLE15/SLE-15-SP1-Module-Basesystem-Updates/            SLE-15-SP1-Module-Basesystem-Updates \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper addrepo -C -G http://example.com/SLE15/SLE-15-SP1-Module-Development-Tools/             SLE-15-SP1-Module-Development-Tools \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper addrepo -C -G http://example.com/SLE15/SLE-15-SP1-Module-Development-Tools-Updates/     SLE-15-SP1-Module-Development-Tools-Updates \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper update --no-recommends --no-confirm \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper install --auto-agree-with-licenses --no-confirm --no-recommends timezone curl ca-certificates-mozilla gzip tar <span class="built_in">which</span> \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper removerepo -a \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; <span class="built_in">mkdir</span> -p /opt/jdk-11 /opt/maven \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; curl -sSL <span class="variable">$&#123;JDK_11_URL&#125;</span> | tar -C /opt/jdk-11 --strip-components=1 -xz \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; curl -sSL <span class="variable">$&#123;MAVEN_URL&#125;</span> | tar -C /opt/maven --strip-components=1 -xz \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; <span class="built_in">rm</span> -fr /root/bin /opt/jdk-11/lib/src.zip /opt/jdk-11/demo /opt/jdk-11/man /opt/jdk-11/jmods \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; mvn -version</span></span><br></pre></td></tr></table></figure>

<h4 id="docker-build-2"><a href="#docker-build-2" class="headerlink" title="docker build"></a>docker build</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">IMG=songdongsheng/openjdk</span><br><span class="line">TAG=11.0.6-jdk</span><br><span class="line"></span><br><span class="line">docker build --compress --tag <span class="variable">$&#123;IMG&#125;</span>:<span class="variable">$&#123;TAG&#125;</span> -f Dockerfile.11.0.6-jdk .</span><br><span class="line"></span><br><span class="line"><span class="comment"># docker image inspect $&#123;IMG&#125;:$&#123;TAG&#125; | less</span></span><br><span class="line"></span><br><span class="line">docker images | grep <span class="variable">$&#123;IMG&#125;</span></span><br><span class="line"></span><br><span class="line">docker push <span class="variable">$&#123;IMG&#125;</span>:<span class="variable">$&#123;TAG&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="Java-11-11-0-6-jre"><a href="#Java-11-11-0-6-jre" class="headerlink" title="Java 11 - 11.0.6-jre"></a>Java 11 - 11.0.6-jre</h3><h4 id="Dockerfile-3"><a href="#Dockerfile-3" class="headerlink" title="Dockerfile"></a>Dockerfile</h4><figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> registry.suse.com/suse/sle15</span><br><span class="line"></span><br><span class="line"><span class="keyword">ARG</span> JRE_11_URL=<span class="string">&quot;https://cdn.azul.com/zulu/bin/zulu11.37.17-ca-jre11.0.6-linux_x64.tar.gz&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /root</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ENV</span> \</span><br><span class="line">    LC_ALL=<span class="string">&quot;en_US.UTF-8&quot;</span> \</span><br><span class="line">    TZ=<span class="string">&quot;Asia/Shanghai&quot;</span> \</span><br><span class="line">    JAVA_HOME=<span class="string">&quot;/opt/jdk-11&quot;</span> \</span><br><span class="line">    PATH=<span class="string">&quot;/opt/jdk-11/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">set</span> -x \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper remove --no-confirm container-suseconnect || <span class="literal">true</span> \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper addrepo -C -G http://example.com/SLE15/SLE-15-SP1-Module-Basesystem/                    SLE-15-SP1-Module-Basesystem \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper addrepo -C -G http://example.com/SLE15/SLE-15-SP1-Module-Basesystem-Updates/            SLE-15-SP1-Module-Basesystem-Updates \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper addrepo -C -G http://example.com/SLE15/SLE-15-SP1-Module-Development-Tools/             SLE-15-SP1-Module-Development-Tools \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper addrepo -C -G http://example.com/SLE15/SLE-15-SP1-Module-Development-Tools-Updates/     SLE-15-SP1-Module-Development-Tools-Updates \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper update --no-recommends --no-confirm \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper install --auto-agree-with-licenses --no-confirm --no-recommends timezone curl ca-certificates-mozilla gzip tar <span class="built_in">which</span> \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; zypper removerepo -a \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; <span class="built_in">mkdir</span> -p /opt/jdk-11 \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; curl -sSL <span class="variable">$&#123;JRE_11_URL&#125;</span> | tar -C /opt/jdk-11 --strip-components=1 -xz \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; <span class="built_in">rm</span> -fr /root/bin /opt/jdk-11/man \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; java -version</span></span><br></pre></td></tr></table></figure>

<h4 id="docker-build-3"><a href="#docker-build-3" class="headerlink" title="docker build"></a>docker build</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">IMG=songdongsheng/openjdk</span><br><span class="line">TAG=11.0.6-jre</span><br><span class="line"></span><br><span class="line">docker build --compress --tag <span class="variable">$&#123;IMG&#125;</span>:<span class="variable">$&#123;TAG&#125;</span> -f Dockerfile.11.0.6-jre .</span><br><span class="line"><span class="comment"># docker tag $&#123;IMG&#125;:$&#123;TAG&#125; $&#123;IMG&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># docker image inspect $&#123;IMG&#125;:$&#123;TAG&#125; | less</span></span><br><span class="line"></span><br><span class="line">docker images | grep <span class="variable">$&#123;IMG&#125;</span></span><br><span class="line"></span><br><span class="line">docker push <span class="variable">$&#123;IMG&#125;</span>:<span class="variable">$&#123;TAG&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="Ubuntu-18-04-based-images"><a href="#Ubuntu-18-04-based-images" class="headerlink" title="Ubuntu 18.04 based images"></a>Ubuntu 18.04 based images</h2><h3 id="All-in-one"><a href="#All-in-one" class="headerlink" title="All in one"></a>All in one</h3><h4 id="Dockerfile-4"><a href="#Dockerfile-4" class="headerlink" title="Dockerfile"></a>Dockerfile</h4><figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> ubuntu:<span class="number">18.04</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ARG</span> NODE_JS_12_URL=<span class="string">&quot;https://nodejs.org/dist/v12.16.1/node-v12.16.1-linux-x64.tar.xz&quot;</span></span><br><span class="line"><span class="keyword">ARG</span> JDK_11_URL=<span class="string">&quot;https://cdn.azul.com/zulu/bin/zulu11.37.17-ca-jdk11.0.6-linux_x64.tar.gz&quot;</span></span><br><span class="line"><span class="keyword">ARG</span> JDK_8_URL=<span class="string">&quot;https://cdn.azul.com/zulu/bin/zulu8.44.0.11-ca-jdk8.0.242-linux_x64.tar.gz&quot;</span></span><br><span class="line"><span class="keyword">ARG</span> MAVEN_URL=<span class="string">&quot;https://downloads.apache.org/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz&quot;</span></span><br><span class="line"><span class="keyword">ARG</span> JRUBY_URL=<span class="string">&quot;https://github.com/jruby/jruby/releases/download/9.2.11.0/jruby-dist-9.2.11.0-bin.tar.gz&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /root</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ENV</span> \</span><br><span class="line">    LC_ALL=<span class="string">&quot;en_US.UTF-8&quot;</span> \</span><br><span class="line">    TZ=<span class="string">&quot;Asia/Shanghai&quot;</span> \</span><br><span class="line">    TERM=<span class="string">&quot;tmux-256color&quot;</span> \</span><br><span class="line">    PATH=<span class="string">&quot;/opt/node-v12/bin:/opt/jruby/bin:/opt/maven/bin:/opt/jdk-11/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">set</span> -x \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; apt-get update \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; apt-get install -y --no-install-recommends dialog locales \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; localedef -i en_US -f UTF-8 -A /etc/locale.alias en_US.UTF-8 \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; localedef --list-archive \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; apt-get dist-upgrade -y --no-install-recommends \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; apt-get install -y --no-install-recommends curl ca-certificates xz-utils python3-distutils \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; <span class="built_in">mkdir</span> -p /opt/node-v12 /opt/jruby /opt/maven /opt/jdk-11 \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; curl -sSL <span class="variable">$&#123;JDK_11_URL&#125;</span> | tar -C /opt/jdk-11 --strip-components=1 -xz \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; curl -sSL <span class="variable">$&#123;MAVEN_URL&#125;</span> | tar -C /opt/maven --strip-components=1 -xz \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; curl -sSL <span class="variable">$&#123;JRUBY_URL&#125;</span> | tar -C /opt/jruby --strip-components=1 -xz \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; curl -sSL <span class="variable">$&#123;NODE_JS_12_URL&#125;</span> | tar -C /opt/node-v12 --strip-components=1 -xJ \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; curl -sSL https://bootstrap.pypa.io/get-pip.py | python3 \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; python3 -m pip install -U Pygments docutils PyYAML simplejson lxml requests pyOpenSSL cassandra-driver aioredis redis-py-cluster recommonmark confluent-kafka asyncpg pg8000 mysql-connector-python \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; gem install asciidoctor asciidoctor-diagram asciidoctor-pdf asciimath pygments.rb rouge kramdown-asciidoc \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; gem sources -c \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; apt-get clean &amp;&amp; <span class="built_in">rm</span> -rf /var/lib/apt/lists/* \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; python3 -m pip list --format=columns \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; mvn -version \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; jruby --version \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; npm version</span></span><br></pre></td></tr></table></figure>

<h4 id="docker-build-4"><a href="#docker-build-4" class="headerlink" title="docker build"></a>docker build</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">IMG=songdongsheng/development</span><br><span class="line">TAG=20200307</span><br><span class="line"></span><br><span class="line">docker build --tag <span class="variable">$&#123;IMG&#125;</span>:<span class="variable">$&#123;TAG&#125;</span> .</span><br><span class="line"></span><br><span class="line"><span class="comment"># docker image inspect $&#123;IMG&#125;:$&#123;TAG&#125; | less</span></span><br><span class="line"></span><br><span class="line">docker images | grep <span class="variable">$&#123;IMG&#125;</span></span><br><span class="line"></span><br><span class="line">docker push <span class="variable">$&#123;IMG&#125;</span>:<span class="variable">$&#123;TAG&#125;</span></span><br></pre></td></tr></table></figure>

      </section>
    </article>
    
    
  </div>
  <aside>
    
    <div class="toc-container">
      <h1>
        catalog
      </h1>
      <div class="content">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Containers-for-development"><span class="toc-number">1.</span> <span class="toc-text">Containers for development</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Base-images"><span class="toc-number">1.1.</span> <span class="toc-text">Base images</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SLE-15-based-images"><span class="toc-number">1.2.</span> <span class="toc-text">SLE 15 based images</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Java-8-8u242-jdk"><span class="toc-number">1.2.1.</span> <span class="toc-text">Java 8 - 8u242-jdk</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Dockerfile"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">Dockerfile</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#docker-build"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">docker build</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java-8-8u242-jre"><span class="toc-number">1.2.2.</span> <span class="toc-text">Java 8 - 8u242-jre</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Dockerfile-1"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">Dockerfile</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#docker-build-1"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">docker build</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java-11-11-0-6-jdk"><span class="toc-number">1.2.3.</span> <span class="toc-text">Java 11 - 11.0.6-jdk</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Dockerfile-2"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">Dockerfile</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#docker-build-2"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">docker build</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java-11-11-0-6-jre"><span class="toc-number">1.2.4.</span> <span class="toc-text">Java 11 - 11.0.6-jre</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Dockerfile-3"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">Dockerfile</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#docker-build-3"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">docker build</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ubuntu-18-04-based-images"><span class="toc-number">1.3.</span> <span class="toc-text">Ubuntu 18.04 based images</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#All-in-one"><span class="toc-number">1.3.1.</span> <span class="toc-text">All in one</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Dockerfile-4"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">Dockerfile</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#docker-build-4"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">docker build</span></a></li></ol></li></ol></li></ol></li></ol>
      </div>
    </div>
    
  </aside>
</main>



  <footer>
  <div class="copyright">
    <div>
      &copy;
      2024 | Powered by <a href="https://hexo.io"
        target="_blank">Hexo</a>&nbsp
    </div>
    <div>
      Theme by <a href="https://github.com/lewis-geek/hexo-theme-Aath"
        target="_blank">Aath</a>
    </div>
  </div>
</footer>


<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>

<script src="/lib/ScrollMagic.min.js"></script>


<script src="/lib/lodash.min.js"></script>

<script>
  document.body.addEventListener('touchstart', function () { });

  // 文章图片预览
  $("article img").each(function () {
    var strA = "<a data-fancybox='gallery' href='" + this.src + "'></a>";
    $(this).wrapAll(strA);
  });

  // 目录联动
  let tocLinkList = $('.toc-link')

  let controller = new ScrollMagic.Controller({
    globalSceneOptions: {
      triggerHook: 0.01
    }
  })

  tocLinkList.each(function (index, elem) {
    let href = $(this).attr("href");
    let nextHref = tocLinkList.eq(index + 1).attr("href");
    let height = href && nextHref ? $(nextHref).offset().top - $(href).offset().top : 0

    new ScrollMagic.Scene({ triggerElement: href })
      .duration(height)
      .setClassToggle(".toc [href='" + href + "']", 'active')
      .addTo(controller)
  })

  window.addEventListener('load', function () {
    // 目录联动 图片加载完成后从新计算
    tocLinkList.each(function (index, elem) {
      let href = $(this).attr("href");
      let nextHref = tocLinkList.eq(index + 1).attr("href");
      let height = href && nextHref ? $(nextHref).offset().top - $(href).offset().top : 0

      new ScrollMagic.Scene({ triggerElement: href })
        .duration(height)
        .setClassToggle(".toc [href='" + href + "']", 'active')
        .addTo(controller)
    })
  })
</script>

<script src="/lib/jquery.fancybox.min.js"></script>



</body>
</html>
