---
title: OpenBSD 6.8 arm64 on Raspberry Pi 3B+
description: OpenBSD 6.8 arm64 on Raspberry Pi 3B+
date: 2020-11-29 10:01:22
tags:
    - Operating system
    - NetBSD
categories: [Operating system]
permalink: openbsd-6.8-arm64-on-raspberrypi-3b-plus
---

# OpenBSD 6.8 arm64 on Raspberry Pi 3B+

## Download NetBSD image

- https://www.openbsd.org/
- https://www.openbsd.org/armv7.html
- https://www.openbsd.org/arm64.html
- https://www.openbsd.org/faq/index.html
- https://www.openbsd.org/faq/faq4.html
- https://www.openbsd.org/faq/faq10.html
- https://www.openbsd.org/faq/faq15.html
- https://www.sudopigeon.com/raspberry-pi/os-install/how-to-install-freebsd-on-raspberry-pi-3-b/
- https://cdn.openbsd.org/pub/OpenBSD/6.8/armv7/
- https://cdn.openbsd.org/pub/OpenBSD/6.8/arm64/
- https://cdn.openbsd.org/pub/OpenBSD/6.8/amd64/
- https://cdn.openbsd.org/pub/OpenBSD/6.8/powerpc64/
- https://cdn.openbsd.org/pub/OpenBSD/6.8/loongson/

```shell
$ aria2c https://cdn.openbsd.org/pub/OpenBSD/6.8/arm64/miniroot68.img
```

## Write image to SDXC card

```shell
$ cat miniroot68.img | sudo dd of=/dev/sdb bs=1M oflag=sync status=progress; time sync
17498112 bytes (17 MB, 17 MiB) copied, 1 s, 17.4 MB/s
0+528 records in
0+528 records out
34603008 bytes (35 MB, 33 MiB) copied, 1.97157 s, 17.6 MB/s

real	0m0.004s
user	0m0.002s
sys	0m0.000s
```

## Booting Raspberry Pi

```
bwfm0: failed loadfirmware of file brcmfmac43455-sdio.bin

linux-firmware-raspbian
Name: brcmfmac43455-sdio.bin
Name: brcmfmac43455-sdio.raspberrypi,3-model-b-plus.txt
```

```shell
U-Boot 2020.07 (Sep 13 2020 - 13:13:43 -0600)

DRAM:  948 MiB
RPI 3 Model B+ (0xa020d3)
MMC:   mmc@7e202000: 0, mmcnr@7e300000: 1
Loading Environment from FAT... *** Warning - bad CRC, using default environment

In:    serial
Out:   vidconsole
Err:   vidconsole
Net:   No ethernet found.
starting USB...
Bus usb@7e980000: USB DWC2
scanning bus usb@7e980000 for devices... 7 USB Device(s) found
       scanning usb for storage devices... 0 Storage Device(s) found
Hit any key to stop autoboot:  0
switch to partitions #0, OK
mmc0 is current device
Scanning mmc 0:1...
Found EFI removable media binary efi/boot/bootaa64.efi
libfdt fdt_check_header(): FDT_ERR_BADMAGIC
Scanning disk mmc@7e202000.blk...
** Unrecognized filesystem type **
Card did not respond to voltage select!
Scanning disk mmcnr@7e300000.blk...
Disk mmcnr@7e300000.blk not ready
Found 3 disks
BootOrder not defined
EFI boot manager: Cannot load any image
168696 bytes read in 12 ms (13.4 MiB/s)
libfdt fdt_check_header(): FDT_ERR_BADMAGIC
disks: sd0*
>> OpenBSD/arm64 BOOTAA64 1.2
boot>
cannot open sd0a:/etc/random.seed: No such file or directory
booting sd0a:/bsd: 2352340+659260+8777560+681840 [195371+109+573336+214661]=0xff5c48
type 0x0 pa 0x0 va 0x0 pages 0x1 attr 0x8
type 0x7 pa 0x1000 va 0x1000 pages 0x1ff attr 0x8
type 0x2 pa 0x200000 va 0x200000 pages 0x4000 attr 0x8
type 0x7 pa 0x4200000 va 0x4200000 pages 0x3cf5 attr 0x8
type 0x9 pa 0x7ef5000 va 0x7ef5000 pages 0x16 attr 0x8
type 0x7 pa 0x7f0b000 va 0x7f0b000 pages 0x31337 attr 0x8
type 0x2 pa 0x39242000 va 0x39242000 pages 0xbc4 attr 0x8
type 0x4 pa 0x39e06000 va 0x39e06000 pages 0x1 attr 0x8
type 0x2 pa 0x39e07000 va 0x39e07000 pages 0x3 attr 0x8
type 0x7 pa 0x39e0a000 va 0x39e0a000 pages 0x1 attr 0x8
type 0x2 pa 0x39e0b000 va 0x39e0b000 pages 0x100 attr 0x8
type 0x1 pa 0x39f0b000 va 0x39f0b000 pages 0x2a attr 0x8
type 0x0 pa 0x39f35000 va 0x39f35000 pages 0x7 attr 0x8
type 0x4 pa 0x39f3c000 va 0x39f3c000 pages 0x1 attr 0x8
type 0x6 pa 0x39f3d000 va 0xa3863000 pages 0x1 attr 0x8000000000000008
type 0x4 pa 0x39f3e000 va 0x39f3e000 pages 0x2 attr 0x8
type 0x0 pa 0x39f40000 va 0x39f40000 pages 0x1 attr 0x8
type 0x4 pa 0x39f41000 va 0x39f41000 pages 0x2 attr 0x8
type 0x6 pa 0x39f43000 va 0xa3869000 pages 0x2 attr 0x8000000000000008
type 0x0 pa 0x39f45000 va 0x39f45000 pages 0x1 attr 0x8
type 0x4 pa 0x39f46000 va 0x39f46000 pages 0x1 attr 0x8
type 0x0 pa 0x39f47000 va 0x39f47000 pages 0x1 attr 0x8
type 0x4 pa 0x39f48000 va 0x39f48000 pages 0x2 attr 0x8
type 0x0 pa 0x39f4a000 va 0x39f4a000 pages 0x1 attr 0x8
type 0x2 pa 0x39f4b000 va 0x39f4b000 pages 0x1405 attr 0x8
type 0x5 pa 0x3b350000 va 0xa4c76000 pages 0x10 attr 0x8000000000000008
type 0x2 pa 0x3b360000 va 0x3b360000 pages 0xa0 attr 0x8
type 0xb pa 0x3f100000 va 0xa4c86000 pages 0x1 attr 0x8000000000000000
Copyright (c) 1982, 1986, 1989, 1991, 1993
        The Regents of the University of California.  All rights reserved.
Copyright (c) 1995-2020 OpenBSD. All rights reserved.  https://www.OpenBSD.org

OpenBSD 6.8 (RAMDISK) #780: Sun Oct  4 20:57:28 MDT 2020
    deraadt@arm64.openbsd.org:/usr/src/sys/arch/arm64/compile/RAMDISK
real mem  = 958574592 (914MB)
avail mem = 896290816 (854MB)
random: boothowto does not indicate good seed
mainbus0 at root: Raspberry Pi 3 Model B Plus Rev 1.3
cpu0 at mainbus0 mpidr 0: ARM Cortex-A53 r0p4
cpu0: 32KB 64b/line 2-way L1 VIPT I-cache, 32KB 64b/line 4-way L1 D-cache
cpu0: 512KB 64b/line 16-way L2 cache
efi0 at mainbus0: UEFI 2.8
efi0: Das U-Boot rev 0x20200700
simplefb0 at mainbus0: 1824x984, 32bpp
wsdisplay0 at simplefb0
wsdisplay0: screen 0 added (std, vt100 emulation)
"system" at mainbus0 not configured
"axi" at mainbus0 not configured
simplebus0 at mainbus0: "soc"
bcmclock0 at simplebus0
bcmmbox0 at simplebus0
bcmgpio0 at simplebus0
bcmaux0 at simplebus0
bcmdmac0 at simplebus0: DMA0 DMA2 DMA4 DMA5 DMA8 DMA9 DMA10
bcmintc0 at simplebus0
bcmrng0 at simplebus0
pluart0 at simplebus0: console
bcmsdhost0 at simplebus0: 250 MHz base clock
sdmmc0 at bcmsdhost0: 4-bit, sd high-speed, mmc high-speed, dma
dwctwo0 at simplebus0
bcmdog0 at simplebus0
"thermal" at simplebus0 not configured
"local_intc" at simplebus0 not configured
sdhc0 at simplebus0
sdhc0: SDHC 3.0, 200 MHz base clock
sdmmc1 at sdhc0: 4-bit, sd high-speed, mmc high-speed
simplebus1 at simplebus0: "firmware"
"clocks" at simplebus1 not configured
"expgpio" at simplebus1 not configured
"power" at simplebus0 not configured
"mailbox" at simplebus0 not configured
"gpiomem" at simplebus0 not configured
"fb" at simplebus0 not configured
"vcsm" at simplebus0 not configured
"clocks" at mainbus0 not configured
"phy" at mainbus0 not configured
"arm-pmu" at mainbus0 not configured
agtimer0 at mainbus0: tick rate 19200 KHz
"leds" at mainbus0 not configured
"fixedregulator_3v3" at mainbus0 not configured
"fixedregulator_5v0" at mainbus0 not configured
usb0 at dwctwo0: USB revision 2.0
scsibus0 at sdmmc0: 2 targets, initiator 0
sd0 at scsibus0 targ 1 lun 0: <SD/MMC, SD64G, 0060> removable
sd0: 59616MB, 512 bytes/sector, 122093568 sectors
uhub0 at usb0 configuration 1 interface 0 "Broadcom DWC2 root hub" rev 2.00/1.00 addr 1
uhub1 at uhub0 port 1 configuration 1 interface 0 "Standard Microsystems product 0x2514" rev 2.00/b.b3 addr 2
bwfm0 at sdmmc1 function 1
manufacturer 0x02d0, product 0xa9a6 at sdmmc1 function 2 not configured
manufacturer 0x02d0, product 0xa9a6 at sdmmc1 function 3 not configured
uhub2 at uhub1 port 1 configuration 1 interface 0 "Standard Microsystems product 0x2514" rev 2.00/b.b3 addr 3
uhub3 at uhub2 port 3 configuration 1 interface 0 "vendor 0x214b USB2.0 HUB" rev 2.00/1.00 addr 4
ure0 at uhub3 port 1 configuration 1 interface 0 "Realtek USB 10/100 LAN" rev 2.10/20.00 addr 5
ure0: RTL8152 (0x4c10), address 00:e0:4c:36:03:b4
rlphy0 at ure0 phy 0: RTL8201E 10/100 PHY, rev. 2
uhidev0 at uhub1 port 3 configuration 1 interface 0 "SIGMACHIP USB Keyboard" rev 1.10/1.10 addr 6
uhidev0: iclass 3/1
ukbd0 at uhidev0
wskbd0 at ukbd0
wskbd0: connecting to wsdisplay0
uhidev1 at uhub1 port 3 configuration 1 interface 1 "SIGMACHIP USB Keyboard" rev 1.10/1.10 addr 6
uhidev1: iclass 3/0, 2 report ids
uhid at uhidev1 reportid 1 not configured
uhid at uhidev1 reportid 2 not configured
softraid0 at root
scsibus1 at softraid0: 256 targets
bootfile: sd0a:/bsd
boot device: sd0
root on rd0a swap on rd0b dump on rd0b
WARNING: CHECK AND RESET THE DATE!
gpio at bcmgpio0 not configured
bwfm0: failed loadfirmware of file brcmfmac43455-sdio.bin
erase ^?, werase ^W, kill ^U, intr ^C, status ^T

Welcome to the OpenBSD/arm64 6.8 installation program.
(I)nstall, (U)pgrade, (A)utoinstall or (S)hell? I^H^H^H
At any prompt except password prompts you can escape to a shell by
typing '!'. Default answers are shown in []'s and are selected by
pressing RETURN.  You can exit this program at any time by pressing
Control-C, but this can leave your system in an inconsistent state.

Terminal type? [vt220]
System hostname? (short form, e.g. 'foo') arm64

Available network interfaces are: bwfm0 ure0 vlan0.
Which network interface do you wish to configure? (or 'done') [bwfm0]
ifconfig: SIOCS80211NWKEY: Operation not supported by device
Access point? (ESSID, 'any', list# or '?') [any]
IPv4 address for bwfm0? (or 'dhcp' or 'none') [dhcp]
bwfm0: failed loadfirmware of file brcmfmac43455-sdio.bin
bwfm0: could not init bus
bwfm0: no link.......... sleeping
IPv6 address for bwfm0? (or 'autoconf' or 'none') [none]
Available network interfaces are: bwfm0 ure0 vlan0.
Which network interface do you wish to configure? (or 'done') [done] ure0
Symbolic (host) name for ure0? [arm64]
IPv4 address for ure0? (or 'dhcp' or 'none') [dhcp]
ure0: 192.168.1.10 lease accepted from 192.168.1.1 (4c:ab:fc:31:0c:78)
IPv6 address for ure0? (or 'autoconf' or 'none') [none]
Available network interfaces are: bwfm0 ure0 vlan0.
Which network interface do you wish to configure? (or 'done') [done]
DNS domain name? (e.g. 'example.com') [my.domain]
DNS nameservers? (IP address list or 'none') [192.168.1.1]

Password for root account? (will not echo)
Password for root account? (again)
Start sshd(8) by default? [yes]
Setup a user? (enter a lower-case loginname, or 'no') [no]
Since no user was setup, root logins via sshd(8) might be useful.
WARNING: root is targeted by password guessing attacks, pubkeys are safer.
Allow root ssh login? (yes, no, prohibit-password) [no] yes

Available disks are: sd0.
Which disk is the root disk? ('?' for details) [sd0]
Disk: sd0       geometry: 7599/255/63 [122093568 Sectors]
Offset: 0       Signature: 0xAA55
            Starting         Ending         LBA Info:
 #: id      C   H   S -      C   H   S [       start:        size ]
-------------------------------------------------------------------------------
*0: 0C      2  10   9 -      2 140  10 [       32768:        8192 ] FAT32L
 1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 3: A6      2 140  11 -      4  52  48 [       40960:       26624 ] OpenBSD
Use (W)hole disk or (E)dit the MBR? [whole]
Creating a msdos partition and an OpenBSD partition for rest of sd0...done.
/dev/rsd0i: 32668 sectors in 8167 FAT16 clusters (2048 bytes/cluster)
bps=512 spc=4 res=1 nft=2 rde=512 mid=0xf8 spf=32 spt=63 hds=255 hid=32768 bsec=32768
The auto-allocated layout for sd0 is:
#                size           offset  fstype [fsize bsize   cpg]
  a:          1024.0M            65536  4.2BSD   2048 16384     1 # /
  b:          1170.2M          2162688    swap
  c:         59616.0M                0  unused
  d:          4024.1M          4559200  4.2BSD   2048 16384     1 # /tmp
  e:          5924.3M         12800640  4.2BSD   2048 16384     1 # /var
  f:          6144.0M         24933664  4.2BSD   2048 16384     1 # /usr
  g:          1024.0M         37516576  4.2BSD   2048 16384     1 # /usr/X11R6
  h:          8344.3M         39613728  4.2BSD   2048 16384     1 # /usr/local
  i:            16.0M            32768   MSDOS
  j:          2048.0M         56702816  4.2BSD   2048 16384     1 # /usr/src
  k:          6144.0M         60897120  4.2BSD   2048 16384     1 # /usr/obj
  l:         23737.1M         73480032  4.2BSD   2048 16384     1 # /home
Use (A)uto layout, (E)dit auto layout, or create (C)ustom layout? [a] a
/dev/rsd0a: 1024.0MB in 2097152 sectors of 512 bytes
6 cylinder groups of 202.50MB, 12960 blocks, 25920 inodes each
/dev/rsd0l: 23737.1MB in 48613536 sectors of 512 bytes
118 cylinder groups of 202.50MB, 12960 blocks, 25920 inodes each
/dev/rsd0d: 4024.1MB in 8241440 sectors of 512 bytes
20 cylinder groups of 202.50MB, 12960 blocks, 25920 inodes each
/dev/rsd0f: 6144.0MB in 12582912 sectors of 512 bytes
31 cylinder groups of 202.50MB, 12960 blocks, 25920 inodes each
/dev/rsd0g: 1024.0MB in 2097152 sectors of 512 bytes
6 cylinder groups of 202.50MB, 12960 blocks, 25920 inodes each
/dev/rsd0h: 8344.3MB in 17089088 sectors of 512 bytes
42 cylinder groups of 202.50MB, 12960 blocks, 25920 inodes each
/dev/rsd0k: 6144.0MB in 12582912 sectors of 512 bytes
31 cylinder groups of 202.50MB, 12960 blocks, 25920 inodes each
/dev/rsd0j: 2048.0MB in 4194304 sectors of 512 bytes
11 cylinder groups of 202.50MB, 12960 blocks, 25920 inodes each
/dev/rsd0e: 5924.3MB in 12133024 sectors of 512 bytes
30 cylinder groups of 202.50MB, 12960 blocks, 25920 inodes each
/dev/sd0a (b1f5b23102b44341.a) on /mnt type ffs (rw, asynchronous, local)
/dev/sd0l (b1f5b23102b44341.l) on /mnt/home type ffs (rw, asynchronous, local, nodev, nosuid)
/dev/sd0d (b1f5b23102b44341.d) on /mnt/tmp type ffs (rw, asynchronous, local, nodev, nosuid)
/dev/sd0f (b1f5b23102b44341.f) on /mnt/usr type ffs (rw, asynchronous, local, nodev)
/dev/sd0g (b1f5b23102b44341.g) on /mnt/usr/X11R6 type ffs (rw, asynchronous, local, nodev)
/dev/sd0h (b1f5b23102b44341.h) on /mnt/usr/local type ffs (rw, asynchronous, local, nodev)
/dev/sd0k (b1f5b23102b44341.k) on /mnt/usr/obj type ffs (rw, asynchronous, local, nodev, nosuid)
/dev/sd0j (b1f5b23102b44341.j) on /mnt/usr/src type ffs (rw, asynchronous, local, nodev, nosuid)
/dev/sd0e (b1f5b23102b44341.e) on /mnt/var type ffs (rw, asynchronous, local, nodev, nosuid)

Let's install the sets!
Location of sets? (disk http nfs or 'done') [http]
HTTP proxy URL? (e.g. 'http://proxy:8080', or 'none') [none]
(Unable to get list from ftp.openbsd.org, but that is OK)
HTTP Server? (hostname or 'done') cdn.openbsd.org
Server directory? [pub/OpenBSD/6.8/arm64]
Unable to connect using https. Use http instead? [no] yes

Select sets by entering a set name, a file name pattern or 'all'. De-select
sets by prepending a '-', e.g.: '-game*'. Selected sets are labelled '[X]'.
    [X] bsd           [X] base68.tgz    [X] game68.tgz    [X] xfont68.tgz
    [X] bsd.mp        [X] comp68.tgz    [X] xbase68.tgz   [X] xserv68.tgz
    [X] bsd.rd        [X] man68.tgz     [X] xshare68.tgz
Set name(s)? (or 'abort' or 'done') [done]
Get/Verify SHA256.sig   100% |**************************|  1454       00:00
Signature Verified
Get/Verify bsd          100% |**************************| 13017 KB    04:12
Get/Verify bsd.mp       100% |**************************| 13082 KB    02:30
...
```

## Logging in to NetBSD

The default account for the images are **root** without password.

You must set the password and configure **ssh** to allow root login before you can log in remotely.

## System characteristics

### uname

```shell
# uname -snrmp
NetBSD armv7 9.1 evbarm earmv7hf

# uname -ap
NetBSD armv7 9.1 NetBSD 9.1 (GENERIC) #0: Sun Oct 18 19:24:30 UTC 2020  mkrepro@mkrepro.NetBSD.org:/usr/src/sys/arch/evbarm/compile/GENERIC evbarm earmv7hf
```

### cpu

```shell
# dmesg | grep cpu
[     1.000000] cpus0 at simplebus0
[     1.000000] cpu0 at cpus0: 600 MHz Cortex-A53 r0p4 (Cortex V8A core)
[     1.000000] cpu0: DC enabled IC enabled WB enabled EABT branch prediction enabled
[     1.000000] cpu0: 32KB/64B 2-way L1 VIPT Instruction cache
[     1.000000] cpu0: 32KB/64B 4-way write-back-locking-C L1 PIPT Data cache
[     1.000000] cpu0: 512KB/64B 16-way write-through L2 PIPT Unified cache
[     1.000000] vfp0 at cpu0: NEON MPE (VFP 3.0+), rounding, NaN propagation, denormals
[     1.000000] cpu1 at cpus0
[     1.000000] cpu2 at cpus0
[     1.000000] cpu3 at cpus0
[     1.000003] cpu3: 600 MHz Cortex-A53 r0p4 (Cortex V8A core)
[     1.653655] cpu3: DC enabled IC enabled WB enabled EABT branch prediction enabled
[     1.693658] cpu3: 32KB/64B 2-way L1 VIPT Instruction cache
[     1.723660] cpu3: 32KB/64B 4-way write-back-locking-C L1 PIPT Data cache
[     1.763665] cpu3: 512KB/64B 16-way write-through L2 PIPT Unified cache
[     1.793668] vfp3 at cpu3: NEON MPE (VFP 3.0+), rounding, NaN propagation, denormals
[     1.833672] cpu1: 600 MHz Cortex-A53 r0p4 (Cortex V8A core)
[     1.863676] cpu1: DC enabled IC enabled WB enabled EABT branch prediction enabled
[     1.903680] cpu1: 32KB/64B 2-way L1 VIPT Instruction cache
[     1.943685] cpu1: 32KB/64B 4-way write-back-locking-C L1 PIPT Data cache
[     1.973688] cpu1: 512KB/64B 16-way write-through L2 PIPT Unified cache
[     2.013692] vfp1 at cpu1: NEON MPE (VFP 3.0+), rounding, NaN propagation, denormals
[     2.053698] cpu2: 600 MHz Cortex-A53 r0p4 (Cortex V8A core)
[     2.083702] cpu2: DC enabled IC enabled WB enabled EABT branch prediction enabled
[     2.123706] cpu2: 32KB/64B 2-way L1 VIPT Instruction cache
[     2.163712] cpu2: 32KB/64B 4-way write-back-locking-C L1 PIPT Data cache
[     2.203716] cpu2: 512KB/64B 16-way write-through L2 PIPT Unified cache
[     2.233718] vfp2 at cpu2: NEON MPE (VFP 3.0+), rounding, NaN propagation, denormals
```

### memory

```shell
# cat /proc/meminfo
        total:    used:    free:  shared: buffers: cached:
Mem:  974045184 261570560 712474624        0 196403200 234627072
Swap:        0        0        0
MemTotal:    951216 kB
MemFree:     695776 kB
MemShared:        0 kB
Buffers:     191800 kB
Cached:      229128 kB
SwapTotal:        0 kB
SwapFree:         0 kB
```

### ure

Realtek RTL8152 Based USB Ethernet Adapter

```shell
# dmesg | grep ure0
[     8.294435] ure0 at uhub3 port 1
[     8.294435] ure0: Realtek (0xbda) USB 10/100 LAN (0x8152), rev 2.10/20.00, addr 5
[     8.304437] ure0: RTL8152 ver 4c10
[     8.394448] rlphy0 at ure0 phy 0: RTL8201E 10/100 media interface, rev. 2
[     8.444457] ure0: Ethernet address 00:e0:4c:36:03:b4

# dmesg | grep mue0
[    11.014923] mue0 at uhub2 port 1
[    11.014923] mue0: vendor 0424 (0x424) product 7800 (0x7800), rev 2.10/3.00, addr 7
[    11.304962] mue0: LAN7800 id 0x7800 rev 0x2
[    11.334966] ukphy0 at mue0 phy 1: OUI 0x00800f, model 0x0013, rev. 2
[    11.344968] mue0: Ethernet address b8:27:eb:66:13:38
```

### sysctl

```shell
hw.disknames = ld0
hw.machine = evbarm
hw.machine_arch = earmv7hf
hw.model = raspberrypi,3-model-b-plus
hw.ncpu = 4
hw.ncpuonline = 4
hw.pagesize = 8192
hw.physmem = 994050048
hw.physmem64 = 994050048
hw.usermem = 980459520
hw.usermem64 = 980459520


kern.aio_listio_max = 512
kern.aio_max = 8192
kern.argmax = 262144
kern.clockrate: tick = 10000, tickadj = 40, hz = 100, profhz = 100, stathz = 100
kern.configname = GENERIC
kern.consdev = ttyE0
kern.dump_on_panic = 1
kern.expose_address = 1
kern.forkfsleep = 0
kern.fscale = 2048
kern.fsync = 1
kern.hardclock_ticks = 88819
kern.iov_max = 1024
kern.mbuf.mblowat = 16
kern.mbuf.mclbytes = 2048
kern.mbuf.mcllowat = 8
kern.mbuf.msize = 256
kern.mbuf.nmbclusters = 30336
kern.osrelease = 9.1
kern.osrevision = 901000000
kern.ostype = NetBSD
kern.timecounter.choice = clockinterrupt(q=0, f=100 Hz) armgtmr0(q=500, f=19200000 Hz) dummy(q=-1000000, f=1000000 Hz)
kern.timecounter.hardware = armgtmr0
kern.timecounter.timestepwarnings = 0
kern.version = NetBSD 9.1 (GENERIC) #0: Sun Oct 18 19:24:30 UTC 2020
machdep.board_model = 0
machdep.board_revision = 10494163
machdep.booted_device = ld0
machdep.cpu.frequency.available = 600 1400
machdep.cpu.frequency.current = 1400
machdep.cpu.frequency.max = 1400
machdep.cpu.frequency.min = 600
machdep.cpu.frequency.target = 1400
machdep.cpu_arch = 8A
machdep.cpu_id = 1091555380
machdep.firmware_revision = 1536600398
machdep.fpu_id = 1090732084
machdep.fpu_present = 1
machdep.hwdiv_present = 1
machdep.kmpages = 3200
machdep.neon_present = 1
machdep.powersave = 1
machdep.printfataltraps = 0
machdep.serial = 0x66661338
machdep.simd_present = 1
machdep.simdex_present = 1
machdep.synchprim_present = 32
machdep.unaligned_sigbus = 0
```

### mmc

```shell
# dmesg | grep mmc
[     1.000003] mmcpwrseq0 at simplebus0autoconfiguration error: : couldn't get reset GPIOs
[     2.393736] sdmmc0 at bcmsdhost0
[     2.404406] sdmmc1 at sdhc0 slot 0
[     2.533852] sdmmc0: direct I/O error 5, r=6 p=0xba649f2c write
[     2.573857] sdmmc0: SD card status: 4-bit, C10, U1, V10, A1
[     2.573857] ld0 at sdmmc0: <0x27:0x5048:SD64G:0x60:0xda7f8e63:0x14a>
[     2.673869] sdmmc1: 4-bit width, 50.000 MHz
[     2.703876] sdmmc1: MAX_BLK_SIZE1 = 64
[     2.703876] sdmmc1: MAX_BLK_SIZE2 = 512
[     2.703876] sdmmc1: MAX_BLK_SIZE3 = 512
[     2.713874] sdmmc1: SDIO function
[     2.713874] (manufacturer 0x2d0, product 0xa9a6) at sdmmc1 function 1 not configured
[     2.723876] (manufacturer 0x2d0, product 0xa9a6) at sdmmc1 function 2 not configured
[     2.733877] (manufacturer 0x2d0, product 0xa9a6, standard function interface code 0x2) at sdmmc1 function 3 not configured

### mounts

```shell
# cat /proc/mounts
/dev/ld0a / ffs rw,noatime 0 0
/dev/ld0e /boot msdos rw 0 0
kernfs /kern kernfs rw 0 0
ptyfs /dev/pts ptyfs rw 0 0
procfs /proc proc rw 0 0
tmpfs /var/shm tmpfs rw 0 0
```

### fdisk

```shell
# fdisk: /dev/rld0
Disk: /dev/rld0
NetBSD disklabel disk geometry:
cylinders: 7599, heads: 255, sectors/track: 63 (16065 sectors/cylinder)
total sectors: 122093568, bytes/sector: 512

BIOS disk geometry:
cylinders: 1023, heads: 255, sectors/track: 63 (16065 sectors/cylinder)
total sectors: 122093568

Partitions aligned to 2048 sector boundaries, offset 63

Partition table:
0: Primary DOS with 32 bit FAT - LBA (sysid 12)
    start 32768, size 163840 (80 MB, Cyls 2/10/9-12/60/48), Active
1: NetBSD (sysid 169)
    start 196608, size 121896960 (59520 MB, Cyls 12/60/49-7599/248/9)
        PBR is not bootable: All bytes are identical (0x00)
2: <UNUSED>
3: <UNUSED>
First active partition: 0
Drive serial number: 0 (0x00000000)
```

### disklabel

```shell
# disklabel /dev/ld0
# /dev/ld0:
type: SCSI
disk: STORAGE DEVICE
label: fictitious
flags: removable
bytes/sector: 512
sectors/track: 32
tracks/cylinder: 64
sectors/cylinder: 2048
cylinders: 1163
total sectors: 122093568
rpm: 3600
interleave: 1
trackskew: 0
cylinderskew: 0
headswitch: 0           # microseconds
track-to-track seek: 0  # microseconds
drivedata: 0

8 partitions:
#        size    offset     fstype [fsize bsize cpg/sgs]
 a: 121896960    196608     4.2BSD      0     0     0  # (Cyl.     96 -  59615)
 c: 122093568         0     unused      0     0        # (Cyl.      0 -  59615)
 d: 122093568         0     unused      0     0        # (Cyl.      0 -  59615)
 e:    163840     32768      MSDOS                     # (Cyl.     16 -     95)
```

## List of processes after startup

```shell
# ps -axdl
  UID  PID PPID  CPU PRI NI   VSZ   RSS WCHAN   STAT TTY      TIME COMMAND
    0    0    0    0   0  0     0  8304 -       OKl  ?     1:05.99 [system]
    0    1    0   19  85  0  6808  1784 wait    Is   ?     0:00.02 - init
    0  242    1    0  85  0  8712  2352 kqueue  Ss   ?     0:00.27 |-- dhcpcd: [master] [ip4] [ip6]
32767  250    1    0  85  0  8208  2328 select  Ss   ?     0:00.23 |-- /usr/sbin/mdnsd
    0  291    1    0  85  0 10352  2680 kqueue  Ss   ?     0:00.28 |-- /usr/sbin/syslogd -s
    0  467    1    0  85  0 11824 13280 pause   Ss   ?     0:00.20 |-- /usr/sbin/ntpd -p /var/run/ntpd.pid -g
    0  558    1 3951  85  0  6208  1112 devmon  Is   ?     0:00.00 |-- /sbin/devpubd
    0  628    1    0  85  0 16776  6008 select  Is   ?     0:00.25 |-- /usr/sbin/sshd
    0  925  628    0  85  0 17120  6608 select  Ss   ?     0:00.42 | |-- sshd: root@pts/0 (sshd)
    0  105  925    0  85  0  7480  2320 ttyraw  Is+  pts/0 0:00.06 | | `-- -sh
    0  991  628    0  43  0 17904  6616 -       Ss   ?     0:00.51 | `-- sshd: root@pts/1 (sshd)
    0 1072  991    0  85  0  8152  2392 wait    Ss   pts/1 0:00.10 |   `-- -sh
    0  354 1072    0  43  0  7968  1664 -       O+   pts/1 0:00.01 |     `-- ps -axdl
    0  919    1 7174  84  0  7672  1712 kqueue  Is   ?     0:00.00 |-- /usr/sbin/inetd -l
    0  958    1    0  85  0  7064  1872 nanoslp Ss   ?     0:00.01 |-- /usr/sbin/cron
    0  981    1    0  85  0 15400  3088 kqueue  Is   ?     0:00.04 |-- /usr/libexec/postfix/master -w
   12  987  981    0  85  0 13904  4448 kqueue  I    ?     0:00.05 | |-- qmgr -l -t unix -u
   12 1041  981    0  85  0 13840  4432 kqueue  I    ?     0:00.02 | `-- pickup -l -t unix -u
    0  908    1  292  85  0 13528  4936 wait    Is   ttyE0 0:00.12 `-- login
    0  618  908    0  85  0  8104  2360 ttyraw  I+   ttyE0 0:00.14   `-- -sh
```

## ifconfig

```shell
# ifconfig -am
ure0: flags=0x8843<UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST> mtu 1500
        capabilities=3ff00<IP4CSUM_Rx,IP4CSUM_Tx,TCP4CSUM_Rx,TCP4CSUM_Tx>
        capabilities=3ff00<UDP4CSUM_Rx,UDP4CSUM_Tx,TCP6CSUM_Rx,TCP6CSUM_Tx>
        capabilities=3ff00<UDP6CSUM_Rx,UDP6CSUM_Tx>
        enabled=0
        ec_capabilities=1<VLAN_MTU>
        ec_enabled=0
        address: 00:e0:4c:36:03:b4
        media: Ethernet autoselect (none)
        status: no carrier
        supported Ethernet media:
                media 10baseT
                media 10baseT mediaopt full-duplex
                media 100baseTX
                media 100baseTX mediaopt full-duplex
                media autoselect
mue0: flags=0x8843<UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST> mtu 1500
        capabilities=7ff80<TSO4,IP4CSUM_Rx,IP4CSUM_Tx,TCP4CSUM_Rx>
        capabilities=7ff80<TCP4CSUM_Tx,UDP4CSUM_Rx,UDP4CSUM_Tx,TCP6CSUM_Rx>
        capabilities=7ff80<TCP6CSUM_Tx,UDP6CSUM_Rx,UDP6CSUM_Tx,TSO6>
        enabled=0
        ec_capabilities=1<VLAN_MTU>
        ec_enabled=0
        address: b8:27:eb:66:13:38
        media: Ethernet autoselect (100baseTX full-duplex)
        status: active
        supported Ethernet media:
                media none
                media 10baseT
                media 10baseT mediaopt full-duplex
                media 100baseTX
                media 100baseTX mediaopt full-duplex
                media 1000baseT
                media 1000baseT mediaopt full-duplex
                media autoselect
        inet6 fe80::60fc:82ab:c140:c7d1%mue0/64 flags 0x0 scopeid 0x2
        inet6 2409:8a55:8bc:dda0:a6cf:5bf6:c34e:b3de/64 flags 0x0
        inet 192.168.1.5/24 broadcast 192.168.1.255 flags 0x0
lo0: flags=0x8049<UP,LOOPBACK,RUNNING,MULTICAST> mtu 33176
        inet6 ::1/128 flags 0x20<NODAD>
        inet6 fe80::1%lo0/64 flags 0x0 scopeid 0x3
        inet 127.0.0.1/8 flags 0x0
```

## Compiler

```shell
# ld -v
GNU ld (NetBSD Binutils nb1) 2.31.1

# gcc -v
Using built-in specs.
COLLECT_GCC=gcc
COLLECT_LTO_WRAPPER=/usr/libexec/lto-wrapper
Target: armv7--netbsdelf-eabihf
Configured with: /usr/src/tools/gcc/../../external/gpl3/gcc/dist/configure --target=armv7--netbsdelf-eabihf --enable-long-long --enable-threads --with-bugurl=http://www.NetBSD.org/Misc/send-pr.html --with-pkgversion='NetBSD nb4 20200810' --with-system-zlib --without-isl --enable-__cxa_atexit --enable-libstdcxx-time=rt --enable-libstdcxx-threads --with-diagnostics-color=auto-if-env --with-default-libstdcxx-abi=new --with-mpc-lib=/var/obj/mknative/evbarm-earmv7hf/usr/src/external/lgpl3/mpc/lib/libmpc --with-mpfr-lib=/var/obj/mknative/evbarm-earmv7hf/usr/src/external/lgpl3/mpfr/lib/libmpfr --with-gmp-lib=/var/obj/mknative/evbarm-earmv7hf/usr/src/external/lgpl3/gmp/lib/libgmp --with-mpc-include=/usr/src/external/lgpl3/mpc/dist/src --with-mpfr-include=/usr/src/external/lgpl3/mpfr/dist/src --with-gmp-include=/usr/src/external/lgpl3/gmp/lib/libgmp/arch/arm --enable-tls --enable-initfini-array --disable-multilib --disable-libstdcxx-pch --build=armv7--netbsdelf-eabihf --host=armv7--netbsdelf-eabihf --with-sysroot=/var/obj/mknative/evbarm-earmv7hf/usr/src/destdir.evbarm
Thread model: posix
gcc version 7.5.0 (nb4 20200810)
```

## Conclusion

NetBSD 9.1 earmv7hf can use my Realtek RTL8152 Based USB Ethernet Adapter, it's works very good.
But is can't found WiFi Adapter in Raspberry Pi 3 Model B Plus Rev 1.3, it's really disappointing.
