<!DOCTYPE html>
<html lang=zh>
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="keywords" content="">
  
    <link rel="icon" href="">
  
    
  <title>REST API backend by Julia with Genie | 上下未形，何由考之？冥昭瞢暗，誰能極之？馮翼惟象，何以識之？</title>
  <meta name="description" content="">
  
<link rel="stylesheet" href="/style.css">

  
<link rel="stylesheet" href="/lib/jquery.fancybox.min.css">

  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <header>
  <div class="header-container">
    <a class='logo' href="/">
      <span>上下未形，何由考之？冥昭瞢暗，誰能極之？馮翼惟象，何以識之？</span>
    </a>
    <ul class="right-header">
      
        <li class="nav-item">
          
            <a href="/" class="item-link">首页</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/about" class="item-link">关于</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/archives" class="item-link">归档</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/tags" class="item-link">标签</a>
          
        </li>
      
    </ul>
  </div>
</header>

  <main id='post'>
  <div class="content">
    <article>
      <section class="content markdown-body">
        <h1>
          REST API backend by Julia with Genie
        </h1>
        <div class='post-meta'>
          <i class="fa fa-calendar"
            aria-hidden="true"></i> <time>
            2021/04/18</time>
          
          | <i class="fa fa-folder-open-o"
            aria-hidden="true"></i>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/Programming/">Programming</a>/ <a class="article-category-link" href="/categories/Programming/Julia/">Julia</a>
  </div>



          
          
          |
          
          <i class="fa fa-tags"
            aria-hidden="true"></i>
          
          
  <a href="/tags/#Programming" class='tag'>Programming</a>

  <a href="/tags/#Julia" class='tag'>Julia</a>


          
        </div>
        <h1 id="REST-API-backend-by-Julia-with-Genie"><a href="#REST-API-backend-by-Julia-with-Genie" class="headerlink" title="REST API backend by Julia with Genie"></a>REST API backend by Julia with Genie</h1><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><h3 id="Julia-language"><a href="#Julia-language" class="headerlink" title="Julia language"></a>Julia language</h3><p>Put the motto to rest.</p>
<blockquote>
<p>Julia Walks like Python, Runs like C.</p>
</blockquote>
<p>Julia is a rather new and ground-breaking programming language that was released in early stages back in 2012. In that short span of time between then and 2020, the size of the ecosystem and the build of the language has absolutely exploded. Just looking at the popularity based on Github stars and Insights of the programming language, it is easy to see just how much the language has accomplished in just the past few years.</p>
<p>Julia’s success has ultimately correlated with the rapid machine-learning growth that the scientific ecosystem has experienced in general.</p>
<h3 id="Genie-web-framework"><a href="#Genie-web-framework" class="headerlink" title="Genie web framework"></a>Genie web framework</h3><p>Genie is a full-stack MVC web framework that provides a streamlined and efficient workflow for developing modern web applications. It builds on Julia’s strengths (high-level, high-performance, dynamic, JIT compiled), exposing a rich API and a powerful toolset for productive web development.</p>
<h2 id="How-to-Install-Genie"><a href="#How-to-Install-Genie" class="headerlink" title="How to Install Genie"></a>How to Install Genie</h2><h3 id="By-interactive-environment"><a href="#By-interactive-environment" class="headerlink" title="By interactive environment"></a>By interactive environment</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; <span class="keyword">import</span> Pkg; Pkg.add(<span class="string">&quot;Genie&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="By-Pkg-REPL-from-Julia’s-registry"><a href="#By-Pkg-REPL-from-Julia’s-registry" class="headerlink" title="By Pkg REPL - from Julia’s registry"></a>By Pkg REPL - from Julia’s registry</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg&gt; add Genie</span><br></pre></td></tr></table></figure>

<h3 id="By-Pkg-REPL-by-running-off-the-master-branch"><a href="#By-Pkg-REPL-by-running-off-the-master-branch" class="headerlink" title="By Pkg REPL - by running off the master branch"></a>By Pkg REPL - by running off the master branch</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg&gt; add Genie<span class="comment">#master</span></span><br></pre></td></tr></table></figure>

<h2 id="Developing-Genie-Web-Services"><a href="#Developing-Genie-Web-Services" class="headerlink" title="Developing Genie Web Services"></a>Developing Genie Web Services</h2><h3 id="REST-API-backend-coding"><a href="#REST-API-backend-coding" class="headerlink" title="REST API backend - coding"></a>REST API backend - coding</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Genie, Genie.Router, Genie.Renderer.Json, Genie.Requests</span><br><span class="line"><span class="keyword">using</span> HTTP</span><br><span class="line"></span><br><span class="line">route(<span class="string">&quot;/&quot;</span>) <span class="keyword">do</span></span><br><span class="line">  <span class="string">&quot;Welcome to Genie!&quot;</span> |&gt; json</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">route(<span class="string">&quot;/foo&quot;</span>) <span class="keyword">do</span></span><br><span class="line">  json(:foo =&gt; <span class="string">&quot;Foo&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">route(<span class="string">&quot;/sum/:x::Int/:y::Int&quot;</span>) <span class="keyword">do</span></span><br><span class="line">    params(:x) + params(:y) |&gt; json</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">Genie.startup(port = <span class="number">8080</span>, async = <span class="literal">false</span>)</span><br></pre></td></tr></table></figure>

<h3 id="REST-API-backend-running"><a href="#REST-API-backend-running" class="headerlink" title="REST API backend - running"></a>REST API backend - running</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">julia rest-demo.jl</span><br><span class="line">┌ Info:</span><br><span class="line">└ Web Server starting at http://127.0.0.1:8080 - press Ctrl/Cmd+C to stop the server.</span><br></pre></td></tr></table></figure>

<h3 id="REST-API-client"><a href="#REST-API-client" class="headerlink" title="REST API client"></a>REST API client</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">curl -isS --http2 http://127.0.0.1:8080/</span></span><br><span class="line"></span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Content-Type: application/json; charset=utf-8</span><br><span class="line">Server: Genie/Julia/1.5.4</span><br><span class="line">Transfer-Encoding: chunked</span><br><span class="line"></span><br><span class="line">&quot;Welcome to Genie!&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">curl -isS --http2 http://127.0.0.1:8080/foo</span></span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Content-Type: application/json; charset=utf-8</span><br><span class="line">Server: Genie/Julia/1.5.4</span><br><span class="line">Transfer-Encoding: chunked</span><br><span class="line"></span><br><span class="line">&#123;&quot;foo&quot;:&quot;Foo&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">curl -isS --http2 http://127.0.0.1:8080/sum/3/8</span></span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Content-Type: application/json; charset=utf-8</span><br><span class="line">Server: Genie/Julia/1.5.4</span><br><span class="line">Transfer-Encoding: chunked</span><br><span class="line"></span><br><span class="line">11</span><br></pre></td></tr></table></figure>

      </section>
    </article>
    
    
  </div>
  <aside>
    
    <div class="toc-container">
      <h1>
        catalog
      </h1>
      <div class="content">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#REST-API-backend-by-Julia-with-Genie"><span class="toc-number">1.</span> <span class="toc-text">REST API backend by Julia with Genie</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.1.</span> <span class="toc-text">Introduction</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Julia-language"><span class="toc-number">1.1.1.</span> <span class="toc-text">Julia language</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Genie-web-framework"><span class="toc-number">1.1.2.</span> <span class="toc-text">Genie web framework</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#How-to-Install-Genie"><span class="toc-number">1.2.</span> <span class="toc-text">How to Install Genie</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#By-interactive-environment"><span class="toc-number">1.2.1.</span> <span class="toc-text">By interactive environment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#By-Pkg-REPL-from-Julia%E2%80%99s-registry"><span class="toc-number">1.2.2.</span> <span class="toc-text">By Pkg REPL - from Julia’s registry</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#By-Pkg-REPL-by-running-off-the-master-branch"><span class="toc-number">1.2.3.</span> <span class="toc-text">By Pkg REPL - by running off the master branch</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Developing-Genie-Web-Services"><span class="toc-number">1.3.</span> <span class="toc-text">Developing Genie Web Services</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#REST-API-backend-coding"><span class="toc-number">1.3.1.</span> <span class="toc-text">REST API backend - coding</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#REST-API-backend-running"><span class="toc-number">1.3.2.</span> <span class="toc-text">REST API backend - running</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#REST-API-client"><span class="toc-number">1.3.3.</span> <span class="toc-text">REST API client</span></a></li></ol></li></ol></li></ol>
      </div>
    </div>
    
  </aside>
</main>



  <footer>
  <div class="copyright">
    <div>
      &copy;
      2024 | Powered by <a href="https://hexo.io"
        target="_blank">Hexo</a>&nbsp
    </div>
    <div>
      Theme by <a href="https://github.com/lewis-geek/hexo-theme-Aath"
        target="_blank">Aath</a>
    </div>
  </div>
</footer>


<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>

<script src="/lib/ScrollMagic.min.js"></script>


<script src="/lib/lodash.min.js"></script>

<script>
  document.body.addEventListener('touchstart', function () { });

  // 文章图片预览
  $("article img").each(function () {
    var strA = "<a data-fancybox='gallery' href='" + this.src + "'></a>";
    $(this).wrapAll(strA);
  });

  // 目录联动
  let tocLinkList = $('.toc-link')

  let controller = new ScrollMagic.Controller({
    globalSceneOptions: {
      triggerHook: 0.01
    }
  })

  tocLinkList.each(function (index, elem) {
    let href = $(this).attr("href");
    let nextHref = tocLinkList.eq(index + 1).attr("href");
    let height = href && nextHref ? $(nextHref).offset().top - $(href).offset().top : 0

    new ScrollMagic.Scene({ triggerElement: href })
      .duration(height)
      .setClassToggle(".toc [href='" + href + "']", 'active')
      .addTo(controller)
  })

  window.addEventListener('load', function () {
    // 目录联动 图片加载完成后从新计算
    tocLinkList.each(function (index, elem) {
      let href = $(this).attr("href");
      let nextHref = tocLinkList.eq(index + 1).attr("href");
      let height = href && nextHref ? $(nextHref).offset().top - $(href).offset().top : 0

      new ScrollMagic.Scene({ triggerElement: href })
        .duration(height)
        .setClassToggle(".toc [href='" + href + "']", 'active')
        .addTo(controller)
    })
  })
</script>

<script src="/lib/jquery.fancybox.min.js"></script>



</body>
</html>
