<!DOCTYPE html>
<html lang=zh>
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="keywords" content="">
  
    <link rel="icon" href="">
  
    
  <title>Visualization with Matplotlib | 上下未形，何由考之？冥昭瞢暗，誰能極之？馮翼惟象，何以識之？</title>
  <meta name="description" content="">
  
<link rel="stylesheet" href="/style.css">

  
<link rel="stylesheet" href="/lib/jquery.fancybox.min.css">

  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <header>
  <div class="header-container">
    <a class='logo' href="/">
      <span>上下未形，何由考之？冥昭瞢暗，誰能極之？馮翼惟象，何以識之？</span>
    </a>
    <ul class="right-header">
      
        <li class="nav-item">
          
            <a href="/" class="item-link">首页</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/about" class="item-link">关于</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/archives" class="item-link">归档</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/tags" class="item-link">标签</a>
          
        </li>
      
    </ul>
  </div>
</header>

  <main id='post'>
  <div class="content">
    <article>
      <section class="content markdown-body">
        <h1>
          Visualization with Matplotlib
        </h1>
        <div class='post-meta'>
          <i class="fa fa-calendar"
            aria-hidden="true"></i> <time>
            2021/08/07</time>
          
          | <i class="fa fa-folder-open-o"
            aria-hidden="true"></i>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/Programming/">Programming</a>/ <a class="article-category-link" href="/categories/Programming/Python/">Python</a>
  </div>



          
          
          |
          
          <i class="fa fa-tags"
            aria-hidden="true"></i>
          
          
  <a href="/tags/#Programming" class='tag'>Programming</a>

  <a href="/tags/#Python" class='tag'>Python</a>


          
        </div>
        <h1 id="Visualization-with-Matplotlib"><a href="#Visualization-with-Matplotlib" class="headerlink" title="Visualization with Matplotlib"></a>Visualization with Matplotlib</h1><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>Matplotlib is a comprehensive library for creating static, animated, and interactive visualizations in Python.</p>
<p>Matplotlib makes easy things easy and hard things possible.</p>
<ul>
<li>Create<ul>
<li>Develop publication quality plots with just a few lines of code</li>
<li>Use interactive figures that can zoom, pan, update…</li>
</ul>
</li>
<li>Customize<ul>
<li>Take full control of line styles, font properties, axes properties…</li>
<li>Export and embed to a number of file formats and interactive environments</li>
</ul>
</li>
<li>Extend<ul>
<li>Explore tailored functionality provided by third party packages</li>
<li>Learn more about Matplotlib through the many external learning resources</li>
</ul>
</li>
</ul>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">pip install -U Matplotlib pandas pycairo scipy wxPython</span></span><br></pre></td></tr></table></figure>

<h2 id="Plotting"><a href="#Plotting" class="headerlink" title="Plotting"></a>Plotting</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">plt.plot(x, np.sin(x))</span><br><span class="line">plt.plot(x, np.cos(x))</span><br><span class="line"></span><br><span class="line"><span class="comment"># fig.tight_layout()</span></span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="Saving-Figures-to-File"><a href="#Saving-Figures-to-File" class="headerlink" title="Saving Figures to File"></a>Saving Figures to File</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># rsvg-convert -d 300 -p 300 -f pdf -a --keep-image-data -o my_figure_3.pdf my_figure.svg</span></span><br><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl</span><br><span class="line">mpl.use(<span class="string">&#x27;wxAgg&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">plt.plot(x, np.sin(x))</span><br><span class="line">plt.plot(x, np.cos(x))</span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.savefig(<span class="string">&#x27;my_figure.png&#x27;</span>)</span><br><span class="line">plt.savefig(<span class="string">&#x27;my_figure.svg&#x27;</span>)</span><br><span class="line">plt.savefig(<span class="string">&#x27;my_figure.pdf&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Matplotlib-Backends"><a href="#Matplotlib-Backends" class="headerlink" title="Matplotlib Backends"></a>Matplotlib Backends</h2><p>Matplotlib is a plotting library. It relies on some backend to actually render the plots.</p>
<p>If you omit the default backend parameter, the first working backend from <a target="_blank" rel="noopener" href="https://matplotlib.org/stable/tutorials/introductory/customizing.html#a-sample-matplotlibrc-file">the following list</a> is used:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MacOSX Qt5Agg Gtk3Agg TkAgg WxAgg Agg</span><br></pre></td></tr></table></figure>

<p>To get backends that are interactive or integrate into your operating system GUI, you need to know what OS you’re running and what kind of backends have been compiled into your matplotlib library.</p>
<p>There’s no easy way to find out what backends are available to be used, instead you can only really find out either by trial and error, or if you have access to the compilation logs.</p>
<p>However you can find out what backend the matplotlib library is currently set to and you can find out the string keys that point to different backends.</p>
<p>This will show you what the default backend of matplotlib has been set to. If you don’t have any confounding environment variables nor a matplotlibrc file.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="built_in">print</span>(plt.get_backend())</span><br><span class="line"></span><br><span class="line">TkAgg</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl</span><br><span class="line"><span class="built_in">print</span>(mpl.matplotlib_fname())</span><br></pre></td></tr></table></figure>

<p>The list of backend string keys can be acquired with:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.rcsetup <span class="keyword">as</span> rcsetup</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(rcsetup.interactive_bk)</span><br><span class="line"><span class="built_in">print</span>(rcsetup.non_interactive_bk)</span><br><span class="line"><span class="built_in">print</span>(rcsetup.all_backends)</span><br><span class="line"></span><br><span class="line">[<span class="string">&#x27;GTK3Agg&#x27;</span>, <span class="string">&#x27;GTK3Cairo&#x27;</span>, <span class="string">&#x27;MacOSX&#x27;</span>, <span class="string">&#x27;nbAgg&#x27;</span>, <span class="string">&#x27;Qt4Agg&#x27;</span>, <span class="string">&#x27;Qt4Cairo&#x27;</span>, <span class="string">&#x27;Qt5Agg&#x27;</span>, <span class="string">&#x27;Qt5Cairo&#x27;</span>, <span class="string">&#x27;TkAgg&#x27;</span>, <span class="string">&#x27;TkCairo&#x27;</span>, <span class="string">&#x27;WebAgg&#x27;</span>, <span class="string">&#x27;WX&#x27;</span>, <span class="string">&#x27;WXAgg&#x27;</span>, <span class="string">&#x27;WXCairo&#x27;</span>]</span><br><span class="line"></span><br><span class="line">[<span class="string">&#x27;agg&#x27;</span>, <span class="string">&#x27;cairo&#x27;</span>, <span class="string">&#x27;pdf&#x27;</span>, <span class="string">&#x27;pgf&#x27;</span>, <span class="string">&#x27;ps&#x27;</span>, <span class="string">&#x27;svg&#x27;</span>, <span class="string">&#x27;template&#x27;</span>]</span><br><span class="line"></span><br><span class="line">[<span class="string">&#x27;GTK3Agg&#x27;</span>, <span class="string">&#x27;GTK3Cairo&#x27;</span>, <span class="string">&#x27;MacOSX&#x27;</span>, <span class="string">&#x27;nbAgg&#x27;</span>, <span class="string">&#x27;Qt4Agg&#x27;</span>, <span class="string">&#x27;Qt4Cairo&#x27;</span>, <span class="string">&#x27;Qt5Agg&#x27;</span>, <span class="string">&#x27;Qt5Cairo&#x27;</span>, <span class="string">&#x27;TkAgg&#x27;</span>, <span class="string">&#x27;TkCairo&#x27;</span>, <span class="string">&#x27;WebAgg&#x27;</span>, <span class="string">&#x27;WX&#x27;</span>, <span class="string">&#x27;WXAgg&#x27;</span>, <span class="string">&#x27;WXCairo&#x27;</span>, <span class="string">&#x27;agg&#x27;</span>, <span class="string">&#x27;cairo&#x27;</span>, <span class="string">&#x27;pdf&#x27;</span>, <span class="string">&#x27;pgf&#x27;</span>, <span class="string">&#x27;ps&#x27;</span>, <span class="string">&#x27;svg&#x27;</span>, <span class="string">&#x27;template&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p>You can then try to switch to it. These are the ways to do this:</p>
<p>The first is to use it just before importing pyplot.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl</span><br><span class="line">mpl.use(<span class="string">&#x27;wxAgg&#x27;</span>)</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.plot(<span class="built_in">range</span>(<span class="number">20</span>), <span class="built_in">range</span>(<span class="number">20</span>))</span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.savefig(<span class="string">&#x27;linear.png&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p>The best way is to use an environment variable:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MPLBACKEND=Qt4Agg python -c &#x27;import matplotlib.pyplot as plt; print(plt.get_backend())&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="Improve-the-resolution"><a href="#Improve-the-resolution" class="headerlink" title="Improve the resolution"></a>Improve the resolution</h2><h3 id="Change-the-dpi-settings"><a href="#Change-the-dpi-settings" class="headerlink" title="Change the dpi settings"></a>Change the dpi settings</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># figure.dpi: 100.0, savefig.dpi: figure</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;figure.dpi: &#123;&#125;, savefig.dpi: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(plt.rcParams[<span class="string">&#x27;figure.dpi&#x27;</span>], plt.rcParams[<span class="string">&#x27;savefig.dpi&#x27;</span>]))</span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;figure.dpi&#x27;</span>] = <span class="number">300</span></span><br><span class="line"><span class="comment"># figure.dpi: 300.0, savefig.dpi: figure</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;figure.dpi: &#123;&#125;, savefig.dpi: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(plt.rcParams[<span class="string">&#x27;figure.dpi&#x27;</span>], plt.rcParams[<span class="string">&#x27;savefig.dpi&#x27;</span>]))</span><br></pre></td></tr></table></figure>

<h3 id="Change-the-image-format-to-a-vector-format"><a href="#Change-the-image-format-to-a-vector-format" class="headerlink" title="Change the image format to a vector format"></a>Change the image format to a vector format</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># savefig.format: png</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;savefig.format: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(plt.rcParams[<span class="string">&#x27;savefig.format&#x27;</span>]))</span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;savefig.format&#x27;</span>] = <span class="string">&#x27;svg&#x27;</span></span><br><span class="line"><span class="comment"># savefig.format: svg</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;savefig.format: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(plt.rcParams[<span class="string">&#x27;savefig.format&#x27;</span>]))</span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a target="_blank" rel="noopener" href="https://matplotlib.org/stable/users/index.html">User’s Guide</a></li>
<li><a target="_blank" rel="noopener" href="https://matplotlib.org/stable/gallery/index.html">Matplotlib’s Gallery</a></li>
<li><a target="_blank" rel="noopener" href="https://matplotlib.org/stable/api/pyplot_summary.html">Pyplot function overview</a></li>
</ul>

      </section>
    </article>
    
    
  </div>
  <aside>
    
    <div class="toc-container">
      <h1>
        catalog
      </h1>
      <div class="content">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Visualization-with-Matplotlib"><span class="toc-number">1.</span> <span class="toc-text">Visualization with Matplotlib</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Installation"><span class="toc-number">1.2.</span> <span class="toc-text">Installation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Plotting"><span class="toc-number">1.3.</span> <span class="toc-text">Plotting</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Saving-Figures-to-File"><span class="toc-number">1.4.</span> <span class="toc-text">Saving Figures to File</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Matplotlib-Backends"><span class="toc-number">1.5.</span> <span class="toc-text">Matplotlib Backends</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Improve-the-resolution"><span class="toc-number">1.6.</span> <span class="toc-text">Improve the resolution</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Change-the-dpi-settings"><span class="toc-number">1.6.1.</span> <span class="toc-text">Change the dpi settings</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Change-the-image-format-to-a-vector-format"><span class="toc-number">1.6.2.</span> <span class="toc-text">Change the image format to a vector format</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reference"><span class="toc-number">1.7.</span> <span class="toc-text">Reference</span></a></li></ol></li></ol>
      </div>
    </div>
    
  </aside>
</main>



  <footer>
  <div class="copyright">
    <div>
      &copy;
      2024 | Powered by <a href="https://hexo.io"
        target="_blank">Hexo</a>&nbsp
    </div>
    <div>
      Theme by <a href="https://github.com/lewis-geek/hexo-theme-Aath"
        target="_blank">Aath</a>
    </div>
  </div>
</footer>


<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>

<script src="/lib/ScrollMagic.min.js"></script>


<script src="/lib/lodash.min.js"></script>

<script>
  document.body.addEventListener('touchstart', function () { });

  // 文章图片预览
  $("article img").each(function () {
    var strA = "<a data-fancybox='gallery' href='" + this.src + "'></a>";
    $(this).wrapAll(strA);
  });

  // 目录联动
  let tocLinkList = $('.toc-link')

  let controller = new ScrollMagic.Controller({
    globalSceneOptions: {
      triggerHook: 0.01
    }
  })

  tocLinkList.each(function (index, elem) {
    let href = $(this).attr("href");
    let nextHref = tocLinkList.eq(index + 1).attr("href");
    let height = href && nextHref ? $(nextHref).offset().top - $(href).offset().top : 0

    new ScrollMagic.Scene({ triggerElement: href })
      .duration(height)
      .setClassToggle(".toc [href='" + href + "']", 'active')
      .addTo(controller)
  })

  window.addEventListener('load', function () {
    // 目录联动 图片加载完成后从新计算
    tocLinkList.each(function (index, elem) {
      let href = $(this).attr("href");
      let nextHref = tocLinkList.eq(index + 1).attr("href");
      let height = href && nextHref ? $(nextHref).offset().top - $(href).offset().top : 0

      new ScrollMagic.Scene({ triggerElement: href })
        .duration(height)
        .setClassToggle(".toc [href='" + href + "']", 'active')
        .addTo(controller)
    })
  })
</script>

<script src="/lib/jquery.fancybox.min.js"></script>



</body>
</html>
