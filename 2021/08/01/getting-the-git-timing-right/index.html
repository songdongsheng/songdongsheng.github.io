<!DOCTYPE html>
<html lang=zh>
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="keywords" content="">
  
    <link rel="icon" href="">
  
    
  <title>Getting the Git Timing Right | 上下未形，何由考之？冥昭瞢暗，誰能極之？馮翼惟象，何以識之？</title>
  <meta name="description" content="">
  
<link rel="stylesheet" href="/style.css">

  
<link rel="stylesheet" href="/lib/jquery.fancybox.min.css">

  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <header>
  <div class="header-container">
    <a class='logo' href="/">
      <span>上下未形，何由考之？冥昭瞢暗，誰能極之？馮翼惟象，何以識之？</span>
    </a>
    <ul class="right-header">
      
        <li class="nav-item">
          
            <a href="/" class="item-link">首页</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/about" class="item-link">关于</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/archives" class="item-link">归档</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/tags" class="item-link">标签</a>
          
        </li>
      
    </ul>
  </div>
</header>

  <main id='post'>
  <div class="content">
    <article>
      <section class="content markdown-body">
        <h1>
          Getting the Git Timing Right
        </h1>
        <div class='post-meta'>
          <i class="fa fa-calendar"
            aria-hidden="true"></i> <time>
            2021/08/01</time>
          
          | <i class="fa fa-folder-open-o"
            aria-hidden="true"></i>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/Programming/">Programming</a>/ <a class="article-category-link" href="/categories/Programming/Git/">Git</a>
  </div>



          
          
          |
          
          <i class="fa fa-tags"
            aria-hidden="true"></i>
          
          
  <a href="/tags/#Programming" class='tag'>Programming</a>

  <a href="/tags/#Git" class='tag'>Git</a>


          
        </div>
        <h1 id="Getting-the-Git-Timing-Right"><a href="#Getting-the-Git-Timing-Right" class="headerlink" title="Getting the Git Timing Right"></a>Getting the Git Timing Right</h1><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>Do you work on a development team that is distributed across several time zones? Got confused by the dates that Git shows in the commit logs?</p>
<h2 id="Commit-timestamps"><a href="#Commit-timestamps" class="headerlink" title="Commit timestamps"></a>Commit timestamps</h2><p>Let’s assume that two developers work in the same Git repository. The first developer Prasad is located in Bangalore, India. His colleague Joe is located in San Diego, US. The Git log they created looks as follows:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">log</span></span></span><br><span class="line">commit 42eae2e49371be294911ad094d9644d2f58059fc (HEAD -&gt; main)</span><br><span class="line">Author: Joe Smith &lt;jsmith@sandiego.us&gt;</span><br><span class="line">Date:   2016-12-06 11:41:44 -0800</span><br><span class="line"></span><br><span class="line">    Commit 3</span><br><span class="line"></span><br><span class="line">commit 6d8ee6115eaa5ce17b4217d4fedb7a98eb999a1c</span><br><span class="line">Author: Prasad Gupta &lt;pgupta@bangalore.in&gt;</span><br><span class="line">Date:   2016-12-06 21:45:51 +0530</span><br><span class="line"></span><br><span class="line">    Commit 2</span><br><span class="line"></span><br><span class="line">commit 7c9ae27bdb381e73010a0744fd10e979094810ef</span><br><span class="line">Author: Prasad Gupta &lt;pgupta@bangalore.in&gt;</span><br><span class="line">Date:   2016-12-06 21:45:00 +0530</span><br><span class="line"></span><br><span class="line">    Commit 1</span><br></pre></td></tr></table></figure>

<p>What might look a little bit odd is the order of the commits in the logs, since they are in the different time zones.</p>
<h2 id="Use-iso-local-date-format"><a href="#Use-iso-local-date-format" class="headerlink" title="Use iso-local date format"></a>Use iso-local date format</h2><h3 id="git-log-with-parameter-date"><a href="#git-log-with-parameter-date" class="headerlink" title="git log with parameter date"></a>git log with parameter date</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">log</span> --<span class="built_in">date</span>=iso-local</span></span><br><span class="line">commit 42eae2e49371be294911ad094d9644d2f58059fc (HEAD -&gt; main)</span><br><span class="line">Author: Joe Smith &lt;jsmith@sandiego.us&gt;</span><br><span class="line">Date:   2016-12-07 03:41:44 +0800</span><br><span class="line"></span><br><span class="line">    Commit 3</span><br><span class="line"></span><br><span class="line">commit 6d8ee6115eaa5ce17b4217d4fedb7a98eb999a1c</span><br><span class="line">Author: Prasad Gupta &lt;pgupta@bangalore.in&gt;</span><br><span class="line">Date:   2016-12-07 00:15:51 +0800</span><br><span class="line"></span><br><span class="line">    Commit 2</span><br><span class="line"></span><br><span class="line">commit 7c9ae27bdb381e73010a0744fd10e979094810ef</span><br><span class="line">Author: Prasad Gupta &lt;pgupta@bangalore.in&gt;</span><br><span class="line">Date:   2016-12-07 00:15:00 +0800</span><br><span class="line"></span><br><span class="line">    Commit 1</span><br></pre></td></tr></table></figure>

<h3 id="Set-log-parameter-date-with-git-config"><a href="#Set-log-parameter-date-with-git-config" class="headerlink" title="Set log parameter date with git config"></a>Set log parameter date with git config</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git config --global --get log.date</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git config --global --add log.date iso-local</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git config --global --get log.date</span></span><br><span class="line">iso-local</span><br></pre></td></tr></table></figure>

<h2 id="Commit-with-a-UTC-Timestamp"><a href="#Commit-with-a-UTC-Timestamp" class="headerlink" title="Commit with a UTC Timestamp"></a>Commit with a UTC Timestamp</h2><p>If you find it rather unnecessary to include your local timezone in your commits, and would like to commit in UTC time for example, you have two options.</p>
<h3 id="Changing-your-timezone-before-doing-a-commit"><a href="#Changing-your-timezone-before-doing-a-commit" class="headerlink" title="Changing your timezone before doing a commit"></a>Changing your timezone before doing a commit</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">date</span>; TZ=Tunis <span class="built_in">date</span></span></span><br><span class="line">Tue Aug 1 12:17:30 CST 2021</span><br><span class="line">Tue Aug 1 04:17:30 Tunis 2021</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">date</span> &gt;&gt; 1</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">TZ=Tunis git commit -avm <span class="string">&quot;demo commit&quot;</span></span></span><br><span class="line">[main 931d268] demo commit</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">date</span> &gt;&gt; 1</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git commit -avm <span class="string">&quot;demo commit 2&quot;</span></span></span><br><span class="line">[main 616fa14] demo commit 2</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">log</span> --<span class="built_in">date</span>=iso</span></span><br><span class="line">commit 616fa1499ebf757831e7476bf8af8d9d7bb282f5 (HEAD -&gt; main)</span><br><span class="line">Author: Joe Smith &lt;jsmith@sandiego.us&gt;</span><br><span class="line">Date:   2021-08-01 12:19:41 +0800</span><br><span class="line"></span><br><span class="line">    demo commit 2</span><br><span class="line"></span><br><span class="line">commit 931d268aba2f8fb190ddff01586b189d178f2bd3</span><br><span class="line">Author: Joe Smith &lt;jsmith@sandiego.us&gt;</span><br><span class="line">Date:   2021-08-01 04:19:18 +0000</span><br><span class="line"></span><br><span class="line">    demo commit</span><br></pre></td></tr></table></figure>

<h3 id="Using-the-parameter-date-to-override-the-date-in-the-commit"><a href="#Using-the-parameter-date-to-override-the-date-in-the-commit" class="headerlink" title="Using the parameter date to override the date in the commit"></a>Using the parameter date to override the date in the commit</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">date</span> &gt;&gt; 1</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git commit --<span class="built_in">date</span>=<span class="string">&quot;<span class="subst">$(date --utc +%Y-%m-%dT%H:%M:%S%z)</span>&quot;</span> -avm <span class="string">&quot;demo commit 3&quot;</span></span></span><br><span class="line">[main f5a45b0] demo commit 3</span><br><span class="line"> Date: Tue Aug 1 04:24:23 2021 +0000</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">log</span> -1 --<span class="built_in">date</span>=iso</span></span><br><span class="line">commit f5a45b0f74bb2ab29057a7ab62e2f3cff66c46dd (HEAD -&gt; main)</span><br><span class="line">Author: Joe Smith &lt;jsmith@sandiego.us&gt;</span><br><span class="line">Date:   2021-08-01 04:24:23 +0000</span><br><span class="line"></span><br><span class="line">    demo commit 3</span><br></pre></td></tr></table></figure>

      </section>
    </article>
    
    
  </div>
  <aside>
    
    <div class="toc-container">
      <h1>
        catalog
      </h1>
      <div class="content">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Getting-the-Git-Timing-Right"><span class="toc-number">1.</span> <span class="toc-text">Getting the Git Timing Right</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Commit-timestamps"><span class="toc-number">1.2.</span> <span class="toc-text">Commit timestamps</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Use-iso-local-date-format"><span class="toc-number">1.3.</span> <span class="toc-text">Use iso-local date format</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#git-log-with-parameter-date"><span class="toc-number">1.3.1.</span> <span class="toc-text">git log with parameter date</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Set-log-parameter-date-with-git-config"><span class="toc-number">1.3.2.</span> <span class="toc-text">Set log parameter date with git config</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Commit-with-a-UTC-Timestamp"><span class="toc-number">1.4.</span> <span class="toc-text">Commit with a UTC Timestamp</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Changing-your-timezone-before-doing-a-commit"><span class="toc-number">1.4.1.</span> <span class="toc-text">Changing your timezone before doing a commit</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-the-parameter-date-to-override-the-date-in-the-commit"><span class="toc-number">1.4.2.</span> <span class="toc-text">Using the parameter date to override the date in the commit</span></a></li></ol></li></ol></li></ol>
      </div>
    </div>
    
  </aside>
</main>



  <footer>
  <div class="copyright">
    <div>
      &copy;
      2024 | Powered by <a href="https://hexo.io"
        target="_blank">Hexo</a>&nbsp
    </div>
    <div>
      Theme by <a href="https://github.com/lewis-geek/hexo-theme-Aath"
        target="_blank">Aath</a>
    </div>
  </div>
</footer>


<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>

<script src="/lib/ScrollMagic.min.js"></script>


<script src="/lib/lodash.min.js"></script>

<script>
  document.body.addEventListener('touchstart', function () { });

  // 文章图片预览
  $("article img").each(function () {
    var strA = "<a data-fancybox='gallery' href='" + this.src + "'></a>";
    $(this).wrapAll(strA);
  });

  // 目录联动
  let tocLinkList = $('.toc-link')

  let controller = new ScrollMagic.Controller({
    globalSceneOptions: {
      triggerHook: 0.01
    }
  })

  tocLinkList.each(function (index, elem) {
    let href = $(this).attr("href");
    let nextHref = tocLinkList.eq(index + 1).attr("href");
    let height = href && nextHref ? $(nextHref).offset().top - $(href).offset().top : 0

    new ScrollMagic.Scene({ triggerElement: href })
      .duration(height)
      .setClassToggle(".toc [href='" + href + "']", 'active')
      .addTo(controller)
  })

  window.addEventListener('load', function () {
    // 目录联动 图片加载完成后从新计算
    tocLinkList.each(function (index, elem) {
      let href = $(this).attr("href");
      let nextHref = tocLinkList.eq(index + 1).attr("href");
      let height = href && nextHref ? $(nextHref).offset().top - $(href).offset().top : 0

      new ScrollMagic.Scene({ triggerElement: href })
        .duration(height)
        .setClassToggle(".toc [href='" + href + "']", 'active')
        .addTo(controller)
    })
  })
</script>

<script src="/lib/jquery.fancybox.min.js"></script>



</body>
</html>
